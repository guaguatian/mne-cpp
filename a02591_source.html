<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>MNE-CPP Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a class="site-logo" href="http://www.mne-cpp.org/" title="A Framework for Electrophysiology"><img alt="Logo" src="MNE-CPP_Doxygen_Logo.svg"/></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MNE-CPP
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">A Framework for Electrophysiology</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_a6e4fee11f07c3b70486e88fe92cbbdc.html">applications</a></li><li class="navelem"><a class="el" href="dir_e446c6e1cb3fc1a93d99e5b33bb756bc.html">mne_scan</a></li><li class="navelem"><a class="el" href="dir_dff0cf57900fd280f21b02b063bc8d88.html">plugins</a></li><li class="navelem"><a class="el" href="dir_6e9e9e32eba1a1ca7bc9b5050f5412c7.html">eegosports</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">eegosports.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="a02591.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"></span><span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">// INCLUDES</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a02594.html">eegosports.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a02609.html">eegosportsproducer.h</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a02627.html">FormFiles/eegosportssetupwidget.h</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a02621.html">FormFiles/eegosportssetupprojectwidget.h</a>&quot;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a01595.html">utils/layoutloader.h</a>&gt;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a01601.html">utils/layoutmaker.h</a>&gt;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a02219.html">scMeas/realtimemultisamplearray.h</a>&gt;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a00818.html">fiff/fiff.h</a>&gt;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &lt;Windows.h&gt;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">// QT INCLUDES</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &lt;QSettings&gt;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &lt;QDate&gt;</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &lt;QVector3D&gt;</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &lt;QTimer&gt;</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &lt;QMessageBox&gt;</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &lt;QDir&gt;</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">// USED NAMESPACES</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03214.html">EEGOSPORTSPLUGIN</a>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03205.html">SCSHAREDLIB</a>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03204.html">SCMEASLIB</a>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03183.html">IOBUFFER</a>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03162.html">FIFFLIB</a>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03167.html">UTILSLIB</a>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03235.html">Eigen</a>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">// DEFINE MEMBER METHODS</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="a05603.html#a8e905af18b920e2e68bc76e5910831fc">   90</a></span>&#160;<a class="code" href="a05603.html#a8e905af18b920e2e68bc76e5910831fc">EEGoSports::EEGoSports</a>()</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;: m_pRMTSA_EEGoSports(0)</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;, m_qStringResourcePath(qApp-&gt;applicationDirPath()+<span class="stringliteral">&quot;/resources/mne_scan/plugins/eegosports/&quot;</span>)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;, m_pEEGoSportsProducer(new <a class="code" href="a05611.html">EEGoSportsProducer</a>(this))</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;, m_dLPAShift(0.01)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;, m_dRPAShift(0.01)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;, m_dNasionShift(0.06)</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;, m_bUseTrackedCardinalMode(true)</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;, m_bUseElectrodeShiftMode(false)</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;, m_sLPA(<span class="stringliteral">&quot;2LD&quot;</span>)</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;, m_sRPA(<span class="stringliteral">&quot;2RD&quot;</span>)</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;, m_sNasion(<span class="stringliteral">&quot;0Z&quot;</span>)</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// Create record file option action bar item/button</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    m_pActionSetupProject = <span class="keyword">new</span> QAction(QIcon(<span class="stringliteral">&quot;:/images/database.png&quot;</span>), tr(<span class="stringliteral">&quot;Setup project&quot;</span>), <span class="keyword">this</span>);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    m_pActionSetupProject-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Setup project&quot;</span>));</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    connect(m_pActionSetupProject, &amp;QAction::triggered, <span class="keyword">this</span>, &amp;<a class="code" href="a05603.html#a81a1a4c31d8214490036c6a4f39c440b">EEGoSports::showSetupProjectDialog</a>);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="a05351.html#acd0c42811d473bfa88b5f280d3da6ca3">addPluginAction</a>(m_pActionSetupProject);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// Create start recordin action bar item/button</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    m_pActionStartRecording = <span class="keyword">new</span> QAction(QIcon(<span class="stringliteral">&quot;:/images/record.png&quot;</span>), tr(<span class="stringliteral">&quot;Start recording data to fif file&quot;</span>), <span class="keyword">this</span>);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    m_pActionStartRecording-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Start recording data to fif file&quot;</span>));</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    connect(m_pActionStartRecording, &amp;QAction::triggered, <span class="keyword">this</span>, &amp;<a class="code" href="a05603.html#a5f3a5f22feac76b095590cbdcd75169b">EEGoSports::showStartRecording</a>);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="a05351.html#acd0c42811d473bfa88b5f280d3da6ca3">addPluginAction</a>(m_pActionStartRecording);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="a05603.html#a9927b4490106a315537fc26f366d0ef6">  119</a></span>&#160;<a class="code" href="a05603.html#a9927b4490106a315537fc26f366d0ef6">EEGoSports::~EEGoSports</a>()</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;{</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">//If the program is closed while the sampling is in process</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">if</span>(this-&gt;isRunning()) {</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        this-&gt;<a class="code" href="a05603.html#ad5e2fe5d6fd34f0b564cad5a63b53424">stop</a>();    </div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">//Store settings for next use</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    QSettings settings;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    settings.setValue(QString(<span class="stringliteral">&quot;EEGOSPORTS/sFreq&quot;</span>), m_iSamplingFreq);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    settings.setValue(QString(<span class="stringliteral">&quot;EEGOSPORTS/samplesPerBlock&quot;</span>), m_iSamplesPerBlock);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    settings.setValue(QString(<span class="stringliteral">&quot;EEGOSPORTS/LPAShift&quot;</span>), m_dLPAShift);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    settings.setValue(QString(<span class="stringliteral">&quot;EEGOSPORTS/RPAShift&quot;</span>), m_dRPAShift);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    settings.setValue(QString(<span class="stringliteral">&quot;EEGOSPORTS/NasionShift&quot;</span>), m_dNasionShift);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    settings.setValue(QString(<span class="stringliteral">&quot;EEGOSPORTS/LPAElectrode&quot;</span>), m_sLPA);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    settings.setValue(QString(<span class="stringliteral">&quot;EEGOSPORTS/RPAElectrode&quot;</span>), m_sRPA);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    settings.setValue(QString(<span class="stringliteral">&quot;EEGOSPORTS/NasionElectrode&quot;</span>), m_sNasion);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    settings.setValue(QString(<span class="stringliteral">&quot;EEGOSPORTS/outputFilePath&quot;</span>), m_sOutputFilePath);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    settings.setValue(QString(<span class="stringliteral">&quot;EEGOSPORTS/elcFilePath&quot;</span>), m_sElcFilePath);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    settings.setValue(QString(<span class="stringliteral">&quot;EEGOSPORTS/cardinalFilePath&quot;</span>), m_sCardinalFilePath);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    settings.setValue(QString(<span class="stringliteral">&quot;EEGOSPORTS/useTrackedCardinalsMode&quot;</span>), m_bUseTrackedCardinalMode);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    settings.setValue(QString(<span class="stringliteral">&quot;EEGOSPORTS/useElectrodeshiftMode&quot;</span>), m_bUseElectrodeShiftMode);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="a05603.html#ae1cb21492bd440de053a3c5b38de983a">  146</a></span>&#160;QSharedPointer&lt;IPlugin&gt; <a class="code" href="a05603.html#ae1cb21492bd440de053a3c5b38de983a">EEGoSports::clone</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    QSharedPointer&lt;EEGoSports&gt; pEEGoSportsClone(<span class="keyword">new</span> <a class="code" href="a05603.html#a8e905af18b920e2e68bc76e5910831fc">EEGoSports</a>());</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">return</span> pEEGoSportsClone;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;}</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="a05603.html#a3c6a330b1ef7833466b47b89ace33303">  155</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05603.html#a3c6a330b1ef7833466b47b89ace33303">EEGoSports::init</a>()</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;{</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    m_pRMTSA_EEGoSports = <a class="code" href="a05391.html">PluginOutputData&lt;RealTimeMultiSampleArray&gt;::create</a>(<span class="keyword">this</span>, <span class="stringliteral">&quot;EEGoSports&quot;</span>, <span class="stringliteral">&quot;EEG output data&quot;</span>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="a05351.html#a3d20989cd2175fa71bf77ceb0c99f353">m_outputConnectors</a>.append(m_pRMTSA_EEGoSports);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">//default values used by the setupGUI class must be set here</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    QSettings settings;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    m_iSamplingFreq = settings.value(QString(<span class="stringliteral">&quot;EEGOSPORTS/sFreq&quot;</span>), 512).toInt();</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    m_iNumberOfChannels = 90;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    m_iSamplesPerBlock = settings.value(QString(<span class="stringliteral">&quot;EEGOSPORTS/samplesPerBlock&quot;</span>), 512).toInt();</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    m_bWriteToFile = <span class="keyword">false</span>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    m_bWriteDriverDebugToFile = <span class="keyword">false</span>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    m_bIsRunning = <span class="keyword">false</span>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    m_bCheckImpedances = <span class="keyword">false</span>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    QDate date;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    m_sOutputFilePath = settings.value(QString(<span class="stringliteral">&quot;EEGOSPORTS/outputFilePath&quot;</span>), QString(<span class="stringliteral">&quot;%1Sequence_01/Subject_01/%2_%3_%4_EEG_001_raw.fif&quot;</span>).arg(m_qStringResourcePath).arg(date.currentDate().year()).arg(date.currentDate().month()).arg(date.currentDate().day())).toString();</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    m_sElcFilePath = settings.value(QString(<span class="stringliteral">&quot;EEGOSPORTS/elcFilePath&quot;</span>), QString(<span class="stringliteral">&quot;./Resources/3DLayouts/standard_waveguard64_duke.elc&quot;</span>)).toString();</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    m_sCardinalFilePath = settings.value(QString(<span class="stringliteral">&quot;EEGOSPORTS/cardinalFilePath&quot;</span>), QString(<span class="stringliteral">&quot;&quot;</span>)).toString();</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    m_dLPAShift = settings.value(QString(<span class="stringliteral">&quot;EEGOSPORTS/LPAShift&quot;</span>), 0.0).toFloat();</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    m_dRPAShift = settings.value(QString(<span class="stringliteral">&quot;EEGOSPORTS/RPAShift&quot;</span>), 0.0).toFloat();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    m_dNasionShift = settings.value(QString(<span class="stringliteral">&quot;EEGOSPORTS/NasionShift&quot;</span>), 0.0).toFloat();</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    m_sLPA = settings.value(QString(<span class="stringliteral">&quot;EEGOSPORTS/LPAElectrode&quot;</span>), QString(<span class="stringliteral">&quot;&quot;</span>)).toString();</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    m_sRPA = settings.value(QString(<span class="stringliteral">&quot;EEGOSPORTS/RPAElectrode&quot;</span>), QString(<span class="stringliteral">&quot;&quot;</span>)).toString();</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    m_sNasion = settings.value(QString(<span class="stringliteral">&quot;EEGOSPORTS/NasionElectrode&quot;</span>), QString(<span class="stringliteral">&quot;&quot;</span>)).toString();</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    m_bUseTrackedCardinalMode = settings.value(QString(<span class="stringliteral">&quot;EEGOSPORTS/useTrackedCardinalsMode&quot;</span>), <span class="keyword">true</span>).toBool();</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    m_bUseElectrodeShiftMode = settings.value(QString(<span class="stringliteral">&quot;EEGOSPORTS/useElectrodeshiftMode&quot;</span>), <span class="keyword">false</span>).toBool();</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    m_pFiffInfo = QSharedPointer&lt;FiffInfo&gt;(<span class="keyword">new</span> <a class="code" href="a03927.html">FiffInfo</a>());</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="a05603.html#aba26589b14ae3a1b681dea1f205c1219">  194</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05603.html#aba26589b14ae3a1b681dea1f205c1219">EEGoSports::unload</a>()</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;{</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;}</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="a05603.html#a6d0f93fd7e603e3d8d981668fde60f0c">  202</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05603.html#a6d0f93fd7e603e3d8d981668fde60f0c">EEGoSports::setUpFiffInfo</a>()</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;{</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">//Clear old fiff info data</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    m_pFiffInfo-&gt;clear();</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">//Set number of channels, sampling frequency and high/-lowpass</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    m_pFiffInfo-&gt;nchan = m_iNumberOfChannels;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    m_pFiffInfo-&gt;sfreq = m_iSamplingFreq;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">//Read electrode positions from .elc file</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    QList&lt;QVector&lt;float&gt; &gt; elcLocation3D;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    QList&lt;QVector&lt;float&gt; &gt; elcLocation2D;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    QString unit;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    QStringList elcChannelNames;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span>(!LayoutLoader::readAsaElcFile(m_sElcFilePath, elcChannelNames, elcLocation3D, elcLocation2D, unit)) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        qDebug() &lt;&lt; <span class="stringliteral">&quot;Error: Reading elc file.&quot;</span>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment">//qDebug() &lt;&lt; elcLocation3D;</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">//qDebug() &lt;&lt; elcLocation2D;</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">//qDebug() &lt;&lt; elcChannelNames;</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">//The positions read from the asa elc file do not correspond to a RAS coordinate system - use a simple 90° z transformation to fix this</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    Matrix3f rotation_z;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    rotation_z = AngleAxisf((<span class="keywordtype">float</span>)M_PI/2, Vector3f::UnitZ()); <span class="comment">//M_PI/2 = 90°</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    QVector3D center_pos;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i&lt;elcLocation3D.size(); i++) {</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        Vector3f point;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        point &lt;&lt; elcLocation3D[i][0], elcLocation3D[i][1] , elcLocation3D[i][2];</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        Vector3f point_rot = rotation_z * point;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">//        cout&lt;&lt;&quot;point: &quot;&lt;&lt;endl&lt;&lt;point&lt;&lt;endl&lt;&lt;endl;</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">//        cout&lt;&lt;&quot;matrix: &quot;&lt;&lt;endl&lt;&lt;rotation_z&lt;&lt;endl&lt;&lt;endl;</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">//        cout&lt;&lt;&quot;point_rot: &quot;&lt;&lt;endl&lt;&lt;point_rot&lt;&lt;endl&lt;&lt;endl;</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">//        cout&lt;&lt;&quot;-----------------------------&quot;&lt;&lt;endl;</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        elcLocation3D[i][0] = point_rot[0];</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        elcLocation3D[i][1] = point_rot[1];</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        elcLocation3D[i][2] = point_rot[2];</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="comment">//Also calculate the center position of the electrode positions in this for routine</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        center_pos.setX(center_pos.x() + elcLocation3D[i][0]);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        center_pos.setY(center_pos.y() + elcLocation3D[i][1]);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        center_pos.setZ(center_pos.z() + elcLocation3D[i][2]);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    center_pos.setX(center_pos.x()/elcLocation3D.size());</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    center_pos.setY(center_pos.y()/elcLocation3D.size());</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    center_pos.setZ(center_pos.z()/elcLocation3D.size());</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="comment">//Write electrode positions to the digitizer info in the fiffinfo</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    QList&lt;FiffDigPoint&gt; digitizerInfo;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">//Only write the EEG channel positions to the fiff info. The Refa devices have next to the EEG input channels 10 other input channels (Bipolar, Auxilary, Digital, Test)</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordtype">int</span> numberEEGCh = 64;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">//Check if channel size by user corresponds with read channel informations from the elc file. If not append zeros and string &#39;unknown&#39; until the size matches.</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">if</span>(numberEEGCh &gt; elcLocation3D.size()) {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        qDebug()&lt;&lt;<span class="stringliteral">&quot;Warning: setUpFiffInfo() - Not enough positions read from the elc file. Filling missing channel names and positions with zeroes and &#39;unknown&#39; strings.&quot;</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        QVector&lt;float&gt; tempA(3, 0.0);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        QVector&lt;float&gt; tempB(2, 0.0);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordtype">int</span> size = numberEEGCh-elcLocation3D.size();</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i&lt;size; i++) {</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            elcLocation3D.push_back(tempA);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            elcLocation2D.push_back(tempB);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            elcChannelNames.append(QString(<span class="stringliteral">&quot;Unknown&quot;</span>));</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">//Append cardinal points LPA RPA Nasion</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    QList&lt;QVector&lt;float&gt; &gt; cardinals3D;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    QList&lt;QVector&lt;float&gt; &gt; cardinals2D;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    QStringList cardinalNames;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">if</span>(!LayoutLoader::readAsaElcFile(m_sCardinalFilePath, cardinalNames, cardinals3D, cardinals2D, unit)) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        qDebug() &lt;&lt; <span class="stringliteral">&quot;Error: Reading elc cardinal file.&quot;</span>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">//Rotate cardinal points</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; cardinals3D.size(); i++) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        Vector3f point;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        point &lt;&lt; cardinals3D[i][0], cardinals3D[i][1] , cardinals3D[i][2];</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        Vector3f point_rot = rotation_z * point;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        cardinals3D[i][0] = point_rot[0];</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        cardinals3D[i][1] = point_rot[1];</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        cardinals3D[i][2] = point_rot[2];</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">//    qDebug()&lt;&lt;&quot;cardinals3D&quot;&lt;&lt;cardinals3D;</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">//    qDebug()&lt;&lt;&quot;cardinals2D&quot;&lt;&lt;cardinals2D;</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">//    qDebug()&lt;&lt;&quot;cardinalNames&quot;&lt;&lt;cardinalNames;</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="comment">//Append LAP value to digitizer data.</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <a class="code" href="a03895.html">FiffDigPoint</a> digPoint;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordtype">int</span> indexLPA = elcChannelNames.indexOf(m_sLPA);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    digPoint.<a class="code" href="a03895.html#aae75c4510085c461d6624158a0453c59">kind</a> = FIFFV_POINT_CARDINAL;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    digPoint.<a class="code" href="a03895.html#a849e835b867dfe73d3685227df6b1ac0">ident</a> = FIFFV_POINT_LPA;<span class="comment">//digitizerInfo.size();</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">//Set EEG electrode location - Convert from mm to m</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span>(m_bUseTrackedCardinalMode &amp;&amp; !m_sCardinalFilePath.isEmpty() &amp;&amp; cardinals3D.size() == 3 &amp;&amp; cardinalNames.contains(<span class="stringliteral">&quot;LPA&quot;</span>)) {</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        indexLPA = cardinalNames.indexOf(<span class="stringliteral">&quot;LPA&quot;</span>);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[0] = cardinals3D[indexLPA][0]*0.001;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[1] = cardinals3D[indexLPA][1]*0.001;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[2] = cardinals3D[indexLPA][2]*0.001;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        digitizerInfo.push_back(digPoint);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(m_bUseElectrodeShiftMode) {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">if</span>(indexLPA != -1) {</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[0] = elcLocation3D[indexLPA][0]*0.001;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[1] = elcLocation3D[indexLPA][1]*0.001;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[2] = (elcLocation3D[indexLPA][2]-m_dLPAShift*10)*0.001;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            digitizerInfo.push_back(digPoint);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            qDebug() &lt;&lt; <span class="stringliteral">&quot;Plugin EEGOSPORTS - ERROR creating LPA - &quot;</span> &lt;&lt; m_sLPA &lt;&lt; <span class="stringliteral">&quot; not found. Check loaded layout.&quot;</span>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        }</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="comment">//Append nasion value to digitizer data.</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordtype">int</span> indexNasion = elcChannelNames.indexOf(m_sNasion);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    digPoint.<a class="code" href="a03895.html#aae75c4510085c461d6624158a0453c59">kind</a> = FIFFV_POINT_CARDINAL;<span class="comment">//FIFFV_POINT_NASION;</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    digPoint.<a class="code" href="a03895.html#a849e835b867dfe73d3685227df6b1ac0">ident</a> = FIFFV_POINT_NASION;<span class="comment">//digitizerInfo.size();</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">//Set EEG electrode location - Convert from mm to m</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="keywordflow">if</span>(m_bUseTrackedCardinalMode &amp;&amp; !m_sCardinalFilePath.isEmpty() &amp;&amp; cardinals3D.size() == 3 &amp;&amp; cardinalNames.contains(<span class="stringliteral">&quot;Nasion&quot;</span>)) {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        indexNasion = cardinalNames.indexOf(<span class="stringliteral">&quot;Nasion&quot;</span>);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[0] = cardinals3D[indexNasion][0]*0.001;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[1] = cardinals3D[indexNasion][1]*0.001;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[2] = cardinals3D[indexNasion][2]*0.001;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        digitizerInfo.push_back(digPoint);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(m_bUseElectrodeShiftMode) {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">if</span>(indexNasion != -1) {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[0] = elcLocation3D[indexNasion][0]*0.001;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[1] = elcLocation3D[indexNasion][1]*0.001;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[2] = (elcLocation3D[indexNasion][2]-m_dNasionShift*10)*0.001;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            digitizerInfo.push_back(digPoint);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            qDebug() &lt;&lt; <span class="stringliteral">&quot;Plugin EEGOSPORTS - ERROR creating Nasion - &quot;</span> &lt;&lt; m_sNasion &lt;&lt; <span class="stringliteral">&quot; not found. Check loaded layout.&quot;</span>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">//Append RAP value to digitizer data.</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordtype">int</span> indexRPA = elcChannelNames.indexOf(m_sRPA);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    digPoint.<a class="code" href="a03895.html#aae75c4510085c461d6624158a0453c59">kind</a> = FIFFV_POINT_CARDINAL;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    digPoint.<a class="code" href="a03895.html#a849e835b867dfe73d3685227df6b1ac0">ident</a> = FIFFV_POINT_RPA;<span class="comment">//digitizerInfo.size();</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="comment">//Set EEG electrode location - Convert from mm to m</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">if</span>(m_bUseTrackedCardinalMode &amp;&amp; !m_sCardinalFilePath.isEmpty() &amp;&amp; cardinals3D.size() == 3 &amp;&amp; cardinalNames.contains(<span class="stringliteral">&quot;RPA&quot;</span>)) {</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        indexRPA = cardinalNames.indexOf(<span class="stringliteral">&quot;RPA&quot;</span>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[0] = cardinals3D[indexRPA][0]*0.001;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[1] = cardinals3D[indexRPA][1]*0.001;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[2] = cardinals3D[indexRPA][2]*0.001;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        digitizerInfo.push_back(digPoint);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(m_bUseElectrodeShiftMode) {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">if</span>(indexRPA != -1) {</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[0] = elcLocation3D[indexRPA][0]*0.001;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[1] = elcLocation3D[indexRPA][1]*0.001;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[2] = (elcLocation3D[indexRPA][2]-m_dRPAShift*10)*0.001;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            digitizerInfo.push_back(digPoint);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            qDebug() &lt;&lt; <span class="stringliteral">&quot;Plugin EEGOSPORTS - ERROR creating RPA - &quot;</span> &lt;&lt; m_sRPA &lt;&lt; <span class="stringliteral">&quot; not found. Check loaded layout.&quot;</span>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="comment">//Add EEG electrode positions as digitizers</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;numberEEGCh; i++) {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="a03895.html">FiffDigPoint</a> digPoint;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        digPoint.<a class="code" href="a03895.html#aae75c4510085c461d6624158a0453c59">kind</a> = FIFFV_POINT_EEG;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        digPoint.<a class="code" href="a03895.html#a849e835b867dfe73d3685227df6b1ac0">ident</a> = i;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="comment">//Set EEG electrode location - Convert from mm to m</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[0] = elcLocation3D[i][0]*0.001;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[1] = elcLocation3D[i][1]*0.001;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        digPoint.<a class="code" href="a03895.html#a64b69cce614706909a1def619cc150aa">r</a>[2] = elcLocation3D[i][2]*0.001;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        digitizerInfo.push_back(digPoint);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    }</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">//Set the final digitizer values to the fiff info</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    m_pFiffInfo-&gt;dig = digitizerInfo;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="comment">//Set up the channel info</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    QStringList QSLChNames;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    m_pFiffInfo-&gt;chs.clear();</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;m_iNumberOfChannels; i++) {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="comment">//Create information for each channel</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        QString sChType;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <a class="code" href="a03875.html">FiffChInfo</a> fChInfo;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="comment">//EEG Channels</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">if</span>(i&lt;=numberEEGCh-1) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="comment">//Set channel name</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordflow">if</span>(!elcChannelNames.empty() &amp;&amp; i&lt;elcChannelNames.size()) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                sChType = QString(<span class="stringliteral">&quot;EEG &quot;</span>);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                sChType.append(elcChannelNames.at(i));</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                fChInfo.<a class="code" href="a03875.html#ab3cf2e116d285cdab2313b9adb9ee3bd">ch_name</a> = sChType;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                sChType = QString(<span class="stringliteral">&quot;EEG &quot;</span>);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                <span class="keywordflow">if</span>(i&lt;10)</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    sChType.append(<span class="stringliteral">&quot;00&quot;</span>);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                <span class="keywordflow">if</span>(i&gt;=10 &amp;&amp; i&lt;100)</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                    sChType.append(<span class="stringliteral">&quot;0&quot;</span>);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                fChInfo.<a class="code" href="a03875.html#ab3cf2e116d285cdab2313b9adb9ee3bd">ch_name</a> = sChType.append(sChType.number(i));</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            <span class="comment">//Set channel type</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            fChInfo.<a class="code" href="a03875.html#a57296252392fa2bb85f00bf4cb0454f6">kind</a> = FIFFV_EEG_CH;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="comment">//Set logno</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            fChInfo.<a class="code" href="a03875.html#a7b5c40b0a6fea48bd71623a0124118c7">logNo</a> = i;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;            <span class="comment">//Set coord frame</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            fChInfo.<a class="code" href="a03875.html#adc4ceed70642eaf96e92eed073737b74">coord_frame</a> = FIFFV_COORD_HEAD;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            <span class="comment">//Set unit</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            fChInfo.<a class="code" href="a03875.html#a5e79cf6d8e0efa7e5f17b146d4895465">unit</a> = FIFF_UNIT_V;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            fChInfo.<a class="code" href="a03875.html#a9d718bd3658c1519a1b22214049b7f9f">unit_mul</a> = 0;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <span class="comment">//Set EEG electrode location - Convert from mm to m</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            fChInfo.<a class="code" href="a03875.html#aed17aadc87a1f61a9f5257aadf469c8c">eeg_loc</a>(0,0) = elcLocation3D[i][0]*0.001;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;            fChInfo.<a class="code" href="a03875.html#aed17aadc87a1f61a9f5257aadf469c8c">eeg_loc</a>(1,0) = elcLocation3D[i][1]*0.001;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            fChInfo.<a class="code" href="a03875.html#aed17aadc87a1f61a9f5257aadf469c8c">eeg_loc</a>(2,0) = elcLocation3D[i][2]*0.001;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="comment">//Set EEG electrode direction - Convert from mm to m</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            fChInfo.<a class="code" href="a03875.html#aed17aadc87a1f61a9f5257aadf469c8c">eeg_loc</a>(0,1) = center_pos.x()*0.001;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            fChInfo.<a class="code" href="a03875.html#aed17aadc87a1f61a9f5257aadf469c8c">eeg_loc</a>(1,1) = center_pos.y()*0.001;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            fChInfo.<a class="code" href="a03875.html#aed17aadc87a1f61a9f5257aadf469c8c">eeg_loc</a>(2,1) = center_pos.z()*0.001;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <span class="comment">//Also write the eeg electrode locations into the meg loc variable (mne_ex_read_raw() matlab function wants this)</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            fChInfo.<a class="code" href="a03875.html#aaaa7def195c22f63c680c21d82e550ce">chpos</a>.<a class="code" href="a03879.html#a4338daef3663ce5eeea7a37fcded5f3e">r0</a>(0) = elcLocation3D[i][0]*0.001;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            fChInfo.<a class="code" href="a03875.html#aaaa7def195c22f63c680c21d82e550ce">chpos</a>.<a class="code" href="a03879.html#a4338daef3663ce5eeea7a37fcded5f3e">r0</a>(1) = elcLocation3D[i][1]*0.001;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            fChInfo.<a class="code" href="a03875.html#aaaa7def195c22f63c680c21d82e550ce">chpos</a>.<a class="code" href="a03879.html#a4338daef3663ce5eeea7a37fcded5f3e">r0</a>(2) = elcLocation3D[i][2]*0.001;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            fChInfo.<a class="code" href="a03875.html#aaaa7def195c22f63c680c21d82e550ce">chpos</a>.<a class="code" href="a03879.html#af2b7fe047a95dd173508bcb5219d3d17">ex</a>(0) = center_pos.x()*0.001;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            fChInfo.<a class="code" href="a03875.html#aaaa7def195c22f63c680c21d82e550ce">chpos</a>.<a class="code" href="a03879.html#af2b7fe047a95dd173508bcb5219d3d17">ex</a>(1) = center_pos.y()*0.001;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            fChInfo.<a class="code" href="a03875.html#aaaa7def195c22f63c680c21d82e550ce">chpos</a>.<a class="code" href="a03879.html#af2b7fe047a95dd173508bcb5219d3d17">ex</a>(2) = center_pos.z()*0.001;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            fChInfo.<a class="code" href="a03875.html#aaaa7def195c22f63c680c21d82e550ce">chpos</a>.<a class="code" href="a03879.html#ae11bf8ad62d9325ccdf928f90173d6f9">ey</a>(0) = 0;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            fChInfo.<a class="code" href="a03875.html#aaaa7def195c22f63c680c21d82e550ce">chpos</a>.<a class="code" href="a03879.html#ae11bf8ad62d9325ccdf928f90173d6f9">ey</a>(1) = 1;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            fChInfo.<a class="code" href="a03875.html#aaaa7def195c22f63c680c21d82e550ce">chpos</a>.<a class="code" href="a03879.html#ae11bf8ad62d9325ccdf928f90173d6f9">ey</a>(2) = 0;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            fChInfo.<a class="code" href="a03875.html#aaaa7def195c22f63c680c21d82e550ce">chpos</a>.<a class="code" href="a03879.html#af782fcbb6eae438e86849d8d33a780b5">ez</a>(0) = 0;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            fChInfo.<a class="code" href="a03875.html#aaaa7def195c22f63c680c21d82e550ce">chpos</a>.<a class="code" href="a03879.html#af782fcbb6eae438e86849d8d33a780b5">ez</a>(1) = 0;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            fChInfo.<a class="code" href="a03875.html#aaaa7def195c22f63c680c21d82e550ce">chpos</a>.<a class="code" href="a03879.html#af782fcbb6eae438e86849d8d33a780b5">ez</a>(2) = 1;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            <span class="comment">//cout&lt;&lt;i&lt;&lt;endl&lt;&lt;fChInfo.eeg_loc&lt;&lt;endl;</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="comment">//Bipolar channels</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">if</span>(i&gt;=64 &amp;&amp; i&lt;=87) {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="comment">//Set channel type</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            fChInfo.<a class="code" href="a03875.html#a57296252392fa2bb85f00bf4cb0454f6">kind</a> = FIFFV_MISC_CH;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            sChType = QString(<span class="stringliteral">&quot;BIPO &quot;</span>);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            fChInfo.<a class="code" href="a03875.html#ab3cf2e116d285cdab2313b9adb9ee3bd">ch_name</a> = sChType.append(sChType.number(i-64));</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="comment">//Digital input channel</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">if</span>(i==88) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <span class="comment">//Set channel type</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            fChInfo.<a class="code" href="a03875.html#a57296252392fa2bb85f00bf4cb0454f6">kind</a> = FIFFV_STIM_CH;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            sChType = QString(<span class="stringliteral">&quot;STIM&quot;</span>);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            fChInfo.<a class="code" href="a03875.html#ab3cf2e116d285cdab2313b9adb9ee3bd">ch_name</a> = sChType;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="comment">//Internally generated test signal - ramp signal</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordflow">if</span>(i==89) {</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <span class="comment">//Set channel type</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            fChInfo.<a class="code" href="a03875.html#a57296252392fa2bb85f00bf4cb0454f6">kind</a> = FIFFV_MISC_CH;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            sChType = QString(<span class="stringliteral">&quot;TEST&quot;</span>);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            fChInfo.<a class="code" href="a03875.html#ab3cf2e116d285cdab2313b9adb9ee3bd">ch_name</a> = sChType;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        }</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        QSLChNames &lt;&lt; sChType;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        m_pFiffInfo-&gt;chs.append(fChInfo);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    }</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">//Set channel names in fiff_info_base</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    m_pFiffInfo-&gt;ch_names = QSLChNames;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="comment">//Set head projection</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    m_pFiffInfo-&gt;dev_head_t.from = FIFFV_COORD_DEVICE;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    m_pFiffInfo-&gt;dev_head_t.to = FIFFV_COORD_HEAD;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    m_pFiffInfo-&gt;ctf_head_t.from = FIFFV_COORD_DEVICE;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    m_pFiffInfo-&gt;ctf_head_t.to = FIFFV_COORD_HEAD;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;}</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="a05603.html#aaf1838311f46c414d43d8f847a900910">  514</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="a05603.html#aaf1838311f46c414d43d8f847a900910">EEGoSports::start</a>()</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;{</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">//Check if the thread is already or still running. This can happen if the start button is pressed immediately after the stop button was pressed. In this case the stopping process is not finished yet but the start process is initiated.</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span>(this-&gt;isRunning()) {</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        QThread::wait();</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="comment">//Setup fiff info</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <a class="code" href="a05603.html#a6d0f93fd7e603e3d8d981668fde60f0c">setUpFiffInfo</a>();</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="comment">//Set the channel size of the RMTSA - this needs to be done here and NOT in the init() function because the user can change the number of channels during runtime</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    m_pRMTSA_EEGoSports-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;initFromFiffInfo(m_pFiffInfo);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    m_pRMTSA_EEGoSports-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;setMultiArraySize(1);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    m_pRMTSA_EEGoSports-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;setSamplingRate(m_iSamplingFreq);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="comment">//Buffer</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    m_qListReceivedSamples.clear();</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    m_pEEGoSportsProducer-&gt;start(m_iNumberOfChannels,</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                       m_iSamplesPerBlock,</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                       m_iSamplingFreq,</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                       m_bWriteDriverDebugToFile,</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                       m_sOutputFilePath,</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                       m_bCheckImpedances);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">if</span>(m_pEEGoSportsProducer-&gt;isRunning()) {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        m_bIsRunning = <span class="keyword">true</span>;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        QThread::start();</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        qWarning() &lt;&lt; <span class="stringliteral">&quot;Plugin EEGoSports - ERROR - EEGoSportsProducer thread could not be started - Either the device is turned off (check your OS device manager) or the driver DLL (EEGO-SDK.dll) is not installed in one of the monitored dll path.&quot;</span> &lt;&lt; endl;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;}</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="a05603.html#ad5e2fe5d6fd34f0b564cad5a63b53424">  552</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="a05603.html#ad5e2fe5d6fd34f0b564cad5a63b53424">EEGoSports::stop</a>()</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;{</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <span class="comment">//Stop the producer thread first</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    m_pEEGoSportsProducer-&gt;stop();</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="comment">//Wait until this thread (EEGoSports) is stopped</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    m_bIsRunning = <span class="keyword">false</span>;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    m_pRMTSA_EEGoSports-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;clear();</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    m_qListReceivedSamples.clear();</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;}</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno"><a class="line" href="a05603.html#a08648a2f7f120dbd533f9f60d9411259">  570</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05603.html#a08648a2f7f120dbd533f9f60d9411259">EEGoSports::setSampleData</a>(MatrixXd &amp;matRawBuffer)</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;{</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    m_mutex.lock();</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    m_qListReceivedSamples.append(matRawBuffer);</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    m_mutex.unlock();</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="a05603.html#af48394b5c7e208acc6629d7b691dacf7">  580</a></span>&#160;<a class="code" href="a05351.html#addfb10f54b9f7aaed5a12ad5665d8b5d">IPlugin::PluginType</a> <a class="code" href="a05603.html#af48394b5c7e208acc6629d7b691dacf7">EEGoSports::getType</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="a05351.html#addfb10f54b9f7aaed5a12ad5665d8b5da86f46a40444d051a5b7ace338f27dedd">_ISensor</a>;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;}</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno"><a class="line" href="a05603.html#a4595036a5e02edb58d9af07fd6e18fce">  588</a></span>&#160;QString <a class="code" href="a05603.html#a4595036a5e02edb58d9af07fd6e18fce">EEGoSports::getName</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;EEGoSports EEG&quot;</span>;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;}</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno"><a class="line" href="a05603.html#ac8faf9d2196a43991bd110e94a7a7db5">  596</a></span>&#160;QWidget* <a class="code" href="a05603.html#ac8faf9d2196a43991bd110e94a7a7db5">EEGoSports::setupWidget</a>()</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;{</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="a05623.html">EEGoSportsSetupWidget</a>* widget = <span class="keyword">new</span> <a class="code" href="a05623.html">EEGoSportsSetupWidget</a>(<span class="keyword">this</span>);<span class="comment">//widget is later destroyed by CentralWidget - so it has to be created everytime new</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="comment">//init properties dialog</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    widget-&gt;<a class="code" href="a05623.html#a018d36951a5d98cee2c6f0fe44c114d3">initGui</a>();</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">return</span> widget;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00609"></a><span class="lineno"><a class="line" href="a05603.html#af0770f2cb62773f39dbec48afa25c5f3">  609</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05603.html#af0770f2cb62773f39dbec48afa25c5f3">EEGoSports::onUpdateCardinalPoints</a>(<span class="keyword">const</span> QString&amp; sLPA, <span class="keywordtype">double</span> dLPA, <span class="keyword">const</span> QString&amp; sRPA, <span class="keywordtype">double</span> dRPA, <span class="keyword">const</span> QString&amp; sNasion, <span class="keywordtype">double</span> dNasion)</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;{</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    m_dLPAShift = dLPA;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    m_dRPAShift = dRPA;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    m_dNasionShift = dNasion;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    m_sLPA = sLPA;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    m_sRPA = sRPA;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    m_sNasion = sNasion;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;}</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="a05603.html#a81a1a4c31d8214490036c6a4f39c440b">  624</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05603.html#a81a1a4c31d8214490036c6a4f39c440b">EEGoSports::showSetupProjectDialog</a>()</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;{</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="comment">// Open setup project widget</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">if</span>(m_pEEGoSportsSetupProjectWidget == Q_NULLPTR) {</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        m_pEEGoSportsSetupProjectWidget = QSharedPointer&lt;EEGoSportsSetupProjectWidget&gt;(<span class="keyword">new</span> <a class="code" href="a05619.html">EEGoSportsSetupProjectWidget</a>(<span class="keyword">this</span>));</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        connect(m_pEEGoSportsSetupProjectWidget.data(), &amp;<a class="code" href="a05619.html#a14835adade72c6a94a95be5796ca2de2">EEGoSportsSetupProjectWidget::cardinalPointsChanged</a>,</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                <span class="keyword">this</span>, &amp;<a class="code" href="a05603.html#af0770f2cb62773f39dbec48afa25c5f3">EEGoSports::onUpdateCardinalPoints</a>);</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    }</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">if</span>(!m_pEEGoSportsSetupProjectWidget-&gt;isVisible()) {</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        m_pEEGoSportsSetupProjectWidget-&gt;setWindowTitle(<span class="stringliteral">&quot;EEGoSports EEG Connector - Setup project&quot;</span>);</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        m_pEEGoSportsSetupProjectWidget-&gt;show();</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        m_pEEGoSportsSetupProjectWidget-&gt;raise();</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    }</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;}</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div><div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="a05603.html#a5f3a5f22feac76b095590cbdcd75169b">  644</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05603.html#a5f3a5f22feac76b095590cbdcd75169b">EEGoSports::showStartRecording</a>()</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;{</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="comment">//Setup writing to file</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">if</span>(m_bWriteToFile) {</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        m_pOutfid-&gt;finish_writing_raw();</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        m_bWriteToFile = <span class="keyword">false</span>;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        m_pTimerRecordingChange-&gt;stop();</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        m_pActionStartRecording-&gt;setIcon(QIcon(<span class="stringliteral">&quot;:/images/record.png&quot;</span>));</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <span class="keywordflow">if</span>(!m_bIsRunning) {</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            QMessageBox msgBox;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            msgBox.setText(<span class="stringliteral">&quot;Start data acquisition first!&quot;</span>);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            msgBox.exec();</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        }</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="keywordflow">if</span>(!m_pFiffInfo) {</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            QMessageBox msgBox;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;            msgBox.setText(<span class="stringliteral">&quot;FiffInfo missing!&quot;</span>);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            msgBox.exec();</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        }</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="comment">//Initiate the stream for writing to the fif file</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        m_fileOut.setFileName(m_sOutputFilePath);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keywordflow">if</span>(m_fileOut.exists()) {</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            QMessageBox msgBox;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;            msgBox.setText(<span class="stringliteral">&quot;The file you want to write already exists.&quot;</span>);</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;            msgBox.setInformativeText(<span class="stringliteral">&quot;Do you want to overwrite this file?&quot;</span>);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            msgBox.setStandardButtons(QMessageBox::Yes | QMessageBox::No);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            <span class="keywordtype">int</span> ret = msgBox.exec();</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <span class="keywordflow">if</span>(ret == QMessageBox::No)</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <span class="comment">// Check if path exists -&gt; otherwise create it</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        QStringList list = m_sOutputFilePath.split(<span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        list.removeLast(); <span class="comment">// remove file name</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        QString fileDir = list.join(<span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="a05603.html#a42576c19760685046d1158ef578c26af">dirExists</a>(fileDir.toStdString())) {</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            QDir dir;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            dir.mkpath(fileDir);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        }</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        m_pOutfid = Fiff::start_writing_raw(m_fileOut, *m_pFiffInfo, m_cals);</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        fiff_int_t first = 0;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        m_pOutfid-&gt;write_int(<a class="code" href="a00893.html#a591e66b9fcd3973990a7ce37b5c04874">FIFF_FIRST_SAMPLE</a>, &amp;first);</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        m_bWriteToFile = <span class="keyword">true</span>;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        m_pTimerRecordingChange = QSharedPointer&lt;QTimer&gt;(<span class="keyword">new</span> QTimer);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        connect(m_pTimerRecordingChange.data(), &amp;QTimer::timeout, <span class="keyword">this</span>, &amp;<a class="code" href="a05603.html#a19de3c94b267797abc13efd48b907289">EEGoSports::changeRecordingButton</a>);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        m_pTimerRecordingChange-&gt;start(500);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    }</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;}</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno"><a class="line" href="a05603.html#a19de3c94b267797abc13efd48b907289">  705</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05603.html#a19de3c94b267797abc13efd48b907289">EEGoSports::changeRecordingButton</a>()</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;{</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keywordflow">if</span>(m_iBlinkStatus == 0) {</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        m_pActionStartRecording-&gt;setIcon(QIcon(<span class="stringliteral">&quot;:/images/record.png&quot;</span>));</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        m_iBlinkStatus = 1;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        m_pActionStartRecording-&gt;setIcon(QIcon(<span class="stringliteral">&quot;:/images/record_active.png&quot;</span>));</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        m_iBlinkStatus = 0;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    }</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;}</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div><div class="line"><a name="l00719"></a><span class="lineno"><a class="line" href="a05603.html#a42576c19760685046d1158ef578c26af">  719</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="a05603.html#a42576c19760685046d1158ef578c26af">EEGoSports::dirExists</a>(<span class="keyword">const</span> std::string&amp; dirName_in)</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;{</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    DWORD ftyp = GetFileAttributesA(dirName_in.c_str());</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">if</span> (ftyp == INVALID_FILE_ATTRIBUTES) {</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">//something is wrong with your path!</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    }</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">if</span> (ftyp &amp; FILE_ATTRIBUTE_DIRECTORY) {</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;   <span class="comment">// this is a directory!</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    }</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;    <span class="comment">// this is not a directory!</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;}</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno"><a class="line" href="a05603.html#a3b4ac04725e1b7e7bc1d05669ba77f72">  737</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05603.html#a3b4ac04725e1b7e7bc1d05669ba77f72">EEGoSports::run</a>()</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;{</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    MatrixXd matValue;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordflow">while</span>(m_bIsRunning) {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <span class="keywordflow">if</span>(m_pEEGoSportsProducer-&gt;isRunning()) {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            m_mutex.lock();</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            <span class="keywordflow">if</span>(m_qListReceivedSamples.isEmpty() == <span class="keyword">false</span>) {</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                matValue = m_qListReceivedSamples.takeFirst();</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                <span class="comment">//Write raw data to fif file</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                <span class="keywordflow">if</span>(m_bWriteToFile) {</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                    m_pOutfid-&gt;write_raw_buffer(matValue, m_cals);</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                }</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                <span class="comment">//emit values to real time multi sample array</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;                <span class="comment">//qDebug()&lt;&lt;&quot;EEGoSports::run() - mat size&quot;&lt;&lt;matValue.rows()&lt;&lt;&quot;x&quot;&lt;&lt;matValue.cols();</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                m_pRMTSA_EEGoSports-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;setValue(matValue);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            }</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            m_mutex.unlock();            </div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    }</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="comment">//Close the fif output stream</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">if</span>(m_bWriteToFile) {</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        m_pOutfid-&gt;finish_writing_raw();</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        m_bWriteToFile = <span class="keyword">false</span>;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        m_pTimerRecordingChange-&gt;stop();</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        m_pActionStartRecording-&gt;setIcon(QIcon(<span class="stringliteral">&quot;:/images/record.png&quot;</span>));</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    }</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="comment">//std::cout&lt;&lt;&quot;EXITING - EEGoSports::run()&quot;&lt;&lt;std::endl;</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;}</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="ttc" id="a02594_html"><div class="ttname"><a href="a02594.html">eegosports.h</a></div><div class="ttdoc">Contains the declaration of the EEGoSports class. </div></div>
<div class="ttc" id="a03895_html_a849e835b867dfe73d3685227df6b1ac0"><div class="ttname"><a href="a03895.html#a849e835b867dfe73d3685227df6b1ac0">FIFFLIB::FiffDigPoint::ident</a></div><div class="ttdeci">fiff_int_t ident</div><div class="ttdef"><b>Definition:</b> <a href="a00857_source.html#l00114">fiff_dig_point.h:114</a></div></div>
<div class="ttc" id="a05623_html"><div class="ttname"><a href="a05623.html">EEGOSPORTSPLUGIN::EEGoSportsSetupWidget</a></div><div class="ttdoc">The EEGoSportsSetupWidget class provides the EEGoSports configuration window. </div><div class="ttdef"><b>Definition:</b> <a href="a02627_source.html#l00078">eegosportssetupwidget.h:78</a></div></div>
<div class="ttc" id="a05603_html_a19de3c94b267797abc13efd48b907289"><div class="ttname"><a href="a05603.html#a19de3c94b267797abc13efd48b907289">EEGOSPORTSPLUGIN::EEGoSports::changeRecordingButton</a></div><div class="ttdeci">void changeRecordingButton()</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00705">eegosports.cpp:705</a></div></div>
<div class="ttc" id="a05603_html_ac8faf9d2196a43991bd110e94a7a7db5"><div class="ttname"><a href="a05603.html#ac8faf9d2196a43991bd110e94a7a7db5">EEGOSPORTSPLUGIN::EEGoSports::setupWidget</a></div><div class="ttdeci">virtual QWidget * setupWidget()</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00596">eegosports.cpp:596</a></div></div>
<div class="ttc" id="a05623_html_a018d36951a5d98cee2c6f0fe44c114d3"><div class="ttname"><a href="a05623.html#a018d36951a5d98cee2c6f0fe44c114d3">EEGOSPORTSPLUGIN::EEGoSportsSetupWidget::initGui</a></div><div class="ttdeci">void initGui()</div><div class="ttdef"><b>Definition:</b> <a href="a02624_source.html#l00110">eegosportssetupwidget.cpp:110</a></div></div>
<div class="ttc" id="a02219_html"><div class="ttname"><a href="a02219.html">realtimemultisamplearray.h</a></div><div class="ttdoc">Contains the declaration of the RealTimeMultiSampleArray class. </div></div>
<div class="ttc" id="a05603_html_af48394b5c7e208acc6629d7b691dacf7"><div class="ttname"><a href="a05603.html#af48394b5c7e208acc6629d7b691dacf7">EEGOSPORTSPLUGIN::EEGoSports::getType</a></div><div class="ttdeci">virtual IPlugin::PluginType getType() const</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00580">eegosports.cpp:580</a></div></div>
<div class="ttc" id="a03927_html"><div class="ttname"><a href="a03927.html">FIFFLIB::FiffInfo</a></div><div class="ttdoc">FIFF measurement file information. </div><div class="ttdef"><b>Definition:</b> <a href="a00908_source.html#l00096">fiff_info.h:96</a></div></div>
<div class="ttc" id="a02627_html"><div class="ttname"><a href="a02627.html">eegosportssetupwidget.h</a></div><div class="ttdoc">Contains the declaration of the EEGoSportsSetupWidget class. </div></div>
<div class="ttc" id="a03875_html_a7b5c40b0a6fea48bd71623a0124118c7"><div class="ttname"><a href="a03875.html#a7b5c40b0a6fea48bd71623a0124118c7">FIFFLIB::FiffChInfo::logNo</a></div><div class="ttdeci">fiff_int_t logNo</div><div class="ttdef"><b>Definition:</b> <a href="a00824_source.html#l00134">fiff_ch_info.h:134</a></div></div>
<div class="ttc" id="a05351_html_addfb10f54b9f7aaed5a12ad5665d8b5da86f46a40444d051a5b7ace338f27dedd"><div class="ttname"><a href="a05351.html#addfb10f54b9f7aaed5a12ad5665d8b5da86f46a40444d051a5b7ace338f27dedd">SCSHAREDLIB::IPlugin::_ISensor</a></div><div class="ttdef"><b>Definition:</b> <a href="a02255_source.html#l00102">IPlugin.h:102</a></div></div>
<div class="ttc" id="a05603_html_a6d0f93fd7e603e3d8d981668fde60f0c"><div class="ttname"><a href="a05603.html#a6d0f93fd7e603e3d8d981668fde60f0c">EEGOSPORTSPLUGIN::EEGoSports::setUpFiffInfo</a></div><div class="ttdeci">void setUpFiffInfo()</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00202">eegosports.cpp:202</a></div></div>
<div class="ttc" id="a03235_html"><div class="ttname"><a href="a03235.html">Eigen</a></div></div>
<div class="ttc" id="a01601_html"><div class="ttname"><a href="a01601.html">layoutmaker.h</a></div><div class="ttdoc">LayoutLoader class declaration. </div></div>
<div class="ttc" id="a03162_html"><div class="ttname"><a href="a03162.html">FIFFLIB</a></div><div class="ttdef"><b>Definition:</b> <a href="a00059_source.html#l00079">connectivitysettings.h:79</a></div></div>
<div class="ttc" id="a05603_html_a42576c19760685046d1158ef578c26af"><div class="ttname"><a href="a05603.html#a42576c19760685046d1158ef578c26af">EEGOSPORTSPLUGIN::EEGoSports::dirExists</a></div><div class="ttdeci">bool dirExists(const std::string &amp;dirName_in)</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00719">eegosports.cpp:719</a></div></div>
<div class="ttc" id="a00818_html"><div class="ttname"><a href="a00818.html">fiff.h</a></div><div class="ttdoc">FIFF class declaration, which provides static wrapper functions to stay consistent with mne matlab to...</div></div>
<div class="ttc" id="a05603_html_a9927b4490106a315537fc26f366d0ef6"><div class="ttname"><a href="a05603.html#a9927b4490106a315537fc26f366d0ef6">EEGOSPORTSPLUGIN::EEGoSports::~EEGoSports</a></div><div class="ttdeci">virtual ~EEGoSports()</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00119">eegosports.cpp:119</a></div></div>
<div class="ttc" id="a05603_html_a08648a2f7f120dbd533f9f60d9411259"><div class="ttname"><a href="a05603.html#a08648a2f7f120dbd533f9f60d9411259">EEGOSPORTSPLUGIN::EEGoSports::setSampleData</a></div><div class="ttdeci">void setSampleData(Eigen::MatrixXd &amp;matRawBuffer)</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00570">eegosports.cpp:570</a></div></div>
<div class="ttc" id="a03167_html"><div class="ttname"><a href="a03167.html">UTILSLIB</a></div><div class="ttdef"><b>Definition:</b> <a href="a00317_source.html#l00078">filtersettingsview.h:78</a></div></div>
<div class="ttc" id="a05603_html_a5f3a5f22feac76b095590cbdcd75169b"><div class="ttname"><a href="a05603.html#a5f3a5f22feac76b095590cbdcd75169b">EEGOSPORTSPLUGIN::EEGoSports::showStartRecording</a></div><div class="ttdeci">void showStartRecording()</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00644">eegosports.cpp:644</a></div></div>
<div class="ttc" id="a02621_html"><div class="ttname"><a href="a02621.html">eegosportssetupprojectwidget.h</a></div><div class="ttdoc">Contains the declaration of the EEGoSportsSetupProjectWidget class. </div></div>
<div class="ttc" id="a05603_html_aba26589b14ae3a1b681dea1f205c1219"><div class="ttname"><a href="a05603.html#aba26589b14ae3a1b681dea1f205c1219">EEGOSPORTSPLUGIN::EEGoSports::unload</a></div><div class="ttdeci">virtual void unload()</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00194">eegosports.cpp:194</a></div></div>
<div class="ttc" id="a03875_html"><div class="ttname"><a href="a03875.html">FIFFLIB::FiffChInfo</a></div><div class="ttdoc">Channel info descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="a00824_source.html#l00088">fiff_ch_info.h:88</a></div></div>
<div class="ttc" id="a03879_html_ae11bf8ad62d9325ccdf928f90173d6f9"><div class="ttname"><a href="a03879.html#ae11bf8ad62d9325ccdf928f90173d6f9">FIFFLIB::FiffChPos::ey</a></div><div class="ttdeci">Eigen::Vector3f ey</div><div class="ttdef"><b>Definition:</b> <a href="a00830_source.html#l00124">fiff_ch_pos.h:124</a></div></div>
<div class="ttc" id="a05603_html_af0770f2cb62773f39dbec48afa25c5f3"><div class="ttname"><a href="a05603.html#af0770f2cb62773f39dbec48afa25c5f3">EEGOSPORTSPLUGIN::EEGoSports::onUpdateCardinalPoints</a></div><div class="ttdeci">void onUpdateCardinalPoints(const QString &amp;sLPA, double dLPA, const QString &amp;sRPA, double dRPA, const QString &amp;sNasion, double dNasion)</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00609">eegosports.cpp:609</a></div></div>
<div class="ttc" id="a05351_html_addfb10f54b9f7aaed5a12ad5665d8b5d"><div class="ttname"><a href="a05351.html#addfb10f54b9f7aaed5a12ad5665d8b5d">SCSHAREDLIB::IPlugin::PluginType</a></div><div class="ttdeci">PluginType</div><div class="ttdef"><b>Definition:</b> <a href="a02255_source.html#l00100">IPlugin.h:100</a></div></div>
<div class="ttc" id="a05611_html"><div class="ttname"><a href="a05611.html">EEGOSPORTSPLUGIN::EEGoSportsProducer</a></div><div class="ttdoc">The EEGoSportsProducer class provides a EEG data producer for a given sampling rate. </div><div class="ttdef"><b>Definition:</b> <a href="a02609_source.html#l00082">eegosportsproducer.h:82</a></div></div>
<div class="ttc" id="a03214_html"><div class="ttname"><a href="a03214.html">EEGOSPORTSPLUGIN</a></div><div class="ttdef"><b>Definition:</b> <a href="a02594_source.html#l00092">eegosports.h:92</a></div></div>
<div class="ttc" id="a03895_html"><div class="ttname"><a href="a03895.html">FIFFLIB::FiffDigPoint</a></div><div class="ttdoc">Digitization point description. </div><div class="ttdef"><b>Definition:</b> <a href="a00857_source.html#l00078">fiff_dig_point.h:78</a></div></div>
<div class="ttc" id="a02609_html"><div class="ttname"><a href="a02609.html">eegosportsproducer.h</a></div><div class="ttdoc">Contains the declaration of the EEGoSportsProducer class. </div></div>
<div class="ttc" id="a03183_html"><div class="ttname"><a href="a03183.html">IOBUFFER</a></div><div class="ttdef"><b>Definition:</b> <a href="a01547_source.html#l00060">buffer.h:60</a></div></div>
<div class="ttc" id="a01595_html"><div class="ttname"><a href="a01595.html">layoutloader.h</a></div><div class="ttdoc">LayoutLoader class declaration. </div></div>
<div class="ttc" id="a03205_html"><div class="ttname"><a href="a03205.html">SCSHAREDLIB</a></div><div class="ttdef"><b>Definition:</b> <a href="a02249_source.html#l00060">IAlgorithm.h:60</a></div></div>
<div class="ttc" id="a03875_html_aaaa7def195c22f63c680c21d82e550ce"><div class="ttname"><a href="a03875.html#aaaa7def195c22f63c680c21d82e550ce">FIFFLIB::FiffChInfo::chpos</a></div><div class="ttdeci">FiffChPos chpos</div><div class="ttdef"><b>Definition:</b> <a href="a00824_source.html#l00138">fiff_ch_info.h:138</a></div></div>
<div class="ttc" id="a03875_html_ab3cf2e116d285cdab2313b9adb9ee3bd"><div class="ttname"><a href="a03875.html#ab3cf2e116d285cdab2313b9adb9ee3bd">FIFFLIB::FiffChInfo::ch_name</a></div><div class="ttdeci">QString ch_name</div><div class="ttdef"><b>Definition:</b> <a href="a00824_source.html#l00141">fiff_ch_info.h:141</a></div></div>
<div class="ttc" id="a03879_html_af782fcbb6eae438e86849d8d33a780b5"><div class="ttname"><a href="a03879.html#af782fcbb6eae438e86849d8d33a780b5">FIFFLIB::FiffChPos::ez</a></div><div class="ttdeci">Eigen::Vector3f ez</div><div class="ttdef"><b>Definition:</b> <a href="a00830_source.html#l00125">fiff_ch_pos.h:125</a></div></div>
<div class="ttc" id="a03895_html_aae75c4510085c461d6624158a0453c59"><div class="ttname"><a href="a03895.html#aae75c4510085c461d6624158a0453c59">FIFFLIB::FiffDigPoint::kind</a></div><div class="ttdeci">fiff_int_t kind</div><div class="ttdef"><b>Definition:</b> <a href="a00857_source.html#l00113">fiff_dig_point.h:113</a></div></div>
<div class="ttc" id="a05603_html_a4595036a5e02edb58d9af07fd6e18fce"><div class="ttname"><a href="a05603.html#a4595036a5e02edb58d9af07fd6e18fce">EEGOSPORTSPLUGIN::EEGoSports::getName</a></div><div class="ttdeci">virtual QString getName() const</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00588">eegosports.cpp:588</a></div></div>
<div class="ttc" id="a03895_html_a64b69cce614706909a1def619cc150aa"><div class="ttname"><a href="a03895.html#a64b69cce614706909a1def619cc150aa">FIFFLIB::FiffDigPoint::r</a></div><div class="ttdeci">fiff_float_t r[3]</div><div class="ttdef"><b>Definition:</b> <a href="a00857_source.html#l00115">fiff_dig_point.h:115</a></div></div>
<div class="ttc" id="a05603_html_a8e905af18b920e2e68bc76e5910831fc"><div class="ttname"><a href="a05603.html#a8e905af18b920e2e68bc76e5910831fc">EEGOSPORTSPLUGIN::EEGoSports::EEGoSports</a></div><div class="ttdeci">EEGoSports()</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00090">eegosports.cpp:90</a></div></div>
<div class="ttc" id="a05603_html_ad5e2fe5d6fd34f0b564cad5a63b53424"><div class="ttname"><a href="a05603.html#ad5e2fe5d6fd34f0b564cad5a63b53424">EEGOSPORTSPLUGIN::EEGoSports::stop</a></div><div class="ttdeci">virtual bool stop()</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00552">eegosports.cpp:552</a></div></div>
<div class="ttc" id="a05603_html_a3b4ac04725e1b7e7bc1d05669ba77f72"><div class="ttname"><a href="a05603.html#a3b4ac04725e1b7e7bc1d05669ba77f72">EEGOSPORTSPLUGIN::EEGoSports::run</a></div><div class="ttdeci">virtual void run()</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00737">eegosports.cpp:737</a></div></div>
<div class="ttc" id="a03875_html_a57296252392fa2bb85f00bf4cb0454f6"><div class="ttname"><a href="a03875.html#a57296252392fa2bb85f00bf4cb0454f6">FIFFLIB::FiffChInfo::kind</a></div><div class="ttdeci">fiff_int_t kind</div><div class="ttdef"><b>Definition:</b> <a href="a00824_source.html#l00135">fiff_ch_info.h:135</a></div></div>
<div class="ttc" id="a03875_html_a9d718bd3658c1519a1b22214049b7f9f"><div class="ttname"><a href="a03875.html#a9d718bd3658c1519a1b22214049b7f9f">FIFFLIB::FiffChInfo::unit_mul</a></div><div class="ttdeci">fiff_int_t unit_mul</div><div class="ttdef"><b>Definition:</b> <a href="a00824_source.html#l00140">fiff_ch_info.h:140</a></div></div>
<div class="ttc" id="a05619_html_a14835adade72c6a94a95be5796ca2de2"><div class="ttname"><a href="a05619.html#a14835adade72c6a94a95be5796ca2de2">EEGOSPORTSPLUGIN::EEGoSportsSetupProjectWidget::cardinalPointsChanged</a></div><div class="ttdeci">void cardinalPointsChanged(const QString &amp;sLPA, double dLPA, const QString &amp;sRPA, double dRPA, const QString &amp;sNasion, double dNasion)</div></div>
<div class="ttc" id="a03875_html_aed17aadc87a1f61a9f5257aadf469c8c"><div class="ttname"><a href="a03875.html#aed17aadc87a1f61a9f5257aadf469c8c">FIFFLIB::FiffChInfo::eeg_loc</a></div><div class="ttdeci">Matrix&lt; float, 3, 2, DontAlign &gt; eeg_loc</div><div class="ttdef"><b>Definition:</b> <a href="a00824_source.html#l00145">fiff_ch_info.h:145</a></div></div>
<div class="ttc" id="a05619_html"><div class="ttname"><a href="a05619.html">EEGOSPORTSPLUGIN::EEGoSportsSetupProjectWidget</a></div><div class="ttdoc">The EEGoSportsSetupProjectWidget class provides the EEGoSportsSetupProjectWidget configuration window...</div><div class="ttdef"><b>Definition:</b> <a href="a02621_source.html#l00087">eegosportssetupprojectwidget.h:87</a></div></div>
<div class="ttc" id="a03879_html_a4338daef3663ce5eeea7a37fcded5f3e"><div class="ttname"><a href="a03879.html#a4338daef3663ce5eeea7a37fcded5f3e">FIFFLIB::FiffChPos::r0</a></div><div class="ttdeci">Eigen::Vector3f r0</div><div class="ttdef"><b>Definition:</b> <a href="a00830_source.html#l00122">fiff_ch_pos.h:122</a></div></div>
<div class="ttc" id="a00893_html_a591e66b9fcd3973990a7ce37b5c04874"><div class="ttname"><a href="a00893.html#a591e66b9fcd3973990a7ce37b5c04874">FIFF_FIRST_SAMPLE</a></div><div class="ttdeci">#define FIFF_FIRST_SAMPLE</div><div class="ttdef"><b>Definition:</b> <a href="a00893_source.html#l00465">fiff_file.h:465</a></div></div>
<div class="ttc" id="a05603_html_a81a1a4c31d8214490036c6a4f39c440b"><div class="ttname"><a href="a05603.html#a81a1a4c31d8214490036c6a4f39c440b">EEGOSPORTSPLUGIN::EEGoSports::showSetupProjectDialog</a></div><div class="ttdeci">void showSetupProjectDialog()</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00624">eegosports.cpp:624</a></div></div>
<div class="ttc" id="a05603_html_a3c6a330b1ef7833466b47b89ace33303"><div class="ttname"><a href="a05603.html#a3c6a330b1ef7833466b47b89ace33303">EEGOSPORTSPLUGIN::EEGoSports::init</a></div><div class="ttdeci">virtual void init()</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00155">eegosports.cpp:155</a></div></div>
<div class="ttc" id="a03879_html_af2b7fe047a95dd173508bcb5219d3d17"><div class="ttname"><a href="a03879.html#af2b7fe047a95dd173508bcb5219d3d17">FIFFLIB::FiffChPos::ex</a></div><div class="ttdeci">Eigen::Vector3f ex</div><div class="ttdef"><b>Definition:</b> <a href="a00830_source.html#l00123">fiff_ch_pos.h:123</a></div></div>
<div class="ttc" id="a03875_html_adc4ceed70642eaf96e92eed073737b74"><div class="ttname"><a href="a03875.html#adc4ceed70642eaf96e92eed073737b74">FIFFLIB::FiffChInfo::coord_frame</a></div><div class="ttdeci">fiff_int_t coord_frame</div><div class="ttdef"><b>Definition:</b> <a href="a00824_source.html#l00146">fiff_ch_info.h:146</a></div></div>
<div class="ttc" id="a05391_html"><div class="ttname"><a href="a05391.html">SCSHAREDLIB::PluginOutputData</a></div><div class="ttdoc">PluginOutputConnector with specified Measurement. </div><div class="ttdef"><b>Definition:</b> <a href="a02312_source.html#l00072">pluginoutputdata.h:72</a></div></div>
<div class="ttc" id="a05351_html_acd0c42811d473bfa88b5f280d3da6ca3"><div class="ttname"><a href="a05351.html#acd0c42811d473bfa88b5f280d3da6ca3">SCSHAREDLIB::IPlugin::addPluginAction</a></div><div class="ttdeci">void addPluginAction(QAction *pAction)</div><div class="ttdef"><b>Definition:</b> <a href="a02255_source.html#l00249">IPlugin.h:249</a></div></div>
<div class="ttc" id="a05603_html_ae1cb21492bd440de053a3c5b38de983a"><div class="ttname"><a href="a05603.html#ae1cb21492bd440de053a3c5b38de983a">EEGOSPORTSPLUGIN::EEGoSports::clone</a></div><div class="ttdeci">virtual QSharedPointer&lt; IPlugin &gt; clone() const</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00146">eegosports.cpp:146</a></div></div>
<div class="ttc" id="a03875_html_a5e79cf6d8e0efa7e5f17b146d4895465"><div class="ttname"><a href="a03875.html#a5e79cf6d8e0efa7e5f17b146d4895465">FIFFLIB::FiffChInfo::unit</a></div><div class="ttdeci">fiff_int_t unit</div><div class="ttdef"><b>Definition:</b> <a href="a00824_source.html#l00139">fiff_ch_info.h:139</a></div></div>
<div class="ttc" id="a05391_html_aceae87f721c31ca112ce126fcd522685"><div class="ttname"><a href="a05391.html#aceae87f721c31ca112ce126fcd522685">SCSHAREDLIB::PluginOutputData::data</a></div><div class="ttdeci">QSharedPointer&lt; T &gt; &amp; data()</div><div class="ttdef"><b>Definition:</b> <a href="a02312_source.html#l00135">pluginoutputdata.h:135</a></div></div>
<div class="ttc" id="a05351_html_a3d20989cd2175fa71bf77ceb0c99f353"><div class="ttname"><a href="a05351.html#a3d20989cd2175fa71bf77ceb0c99f353">SCSHAREDLIB::IPlugin::m_outputConnectors</a></div><div class="ttdeci">OutputConnectorList m_outputConnectors</div><div class="ttdef"><b>Definition:</b> <a href="a02255_source.html#l00222">IPlugin.h:222</a></div></div>
<div class="ttc" id="a05603_html_aaf1838311f46c414d43d8f847a900910"><div class="ttname"><a href="a05603.html#aaf1838311f46c414d43d8f847a900910">EEGOSPORTSPLUGIN::EEGoSports::start</a></div><div class="ttdeci">virtual bool start()</div><div class="ttdef"><b>Definition:</b> <a href="a02591_source.html#l00514">eegosports.cpp:514</a></div></div>
<div class="ttc" id="a03204_html"><div class="ttname"><a href="a03204.html">SCMEASLIB</a></div><div class="ttdef"><b>Definition:</b> <a href="a02138_source.html#l00078">realtimeconnectivityestimatewidget.h:78</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 18 2019 19:35:42
</small></address>
</body>
</html>