<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>MNE-CPP Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a class="site-logo" href="http://www.mne-cpp.org/" title="A Framework for Electrophysiology"><img alt="Logo" src="MNE-CPP_Doxygen_Logo.svg"/></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MNE-CPP
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">A Framework for Electrophysiology</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_a6e4fee11f07c3b70486e88fe92cbbdc.html">applications</a></li><li class="navelem"><a class="el" href="dir_e446c6e1cb3fc1a93d99e5b33bb756bc.html">mne_scan</a></li><li class="navelem"><a class="el" href="dir_dff0cf57900fd280f21b02b063bc8d88.html">plugins</a></li><li class="navelem"><a class="el" href="dir_422520195e391394a303f9aee33b7f0e.html">averaging</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">averaging.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="a02366.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"></span><span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// INCLUDES</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a02369.html">averaging.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a02384.html">FormFiles/averagingsetupwidget.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a00239.html">disp/viewers/averagingsettingsview.h</a>&gt;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a00221.html">disp/viewers/artifactsettingsview.h</a>&gt;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a02213.html">scMeas/realtimeevokedset.h</a>&gt;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a02219.html">scMeas/realtimemultisamplearray.h</a>&gt;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a01466.html">rtprocessing/rtave.h</a>&gt;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">// QT INCLUDES</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">// USED NAMESPACES</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03207.html">AVERAGINGPLUGIN</a>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03205.html">SCSHAREDLIB</a>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03204.html">SCMEASLIB</a>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03183.html">IOBUFFER</a>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03162.html">FIFFLIB</a>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03164.html">DISPLIB</a>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03182.html">RTPROCESSINGLIB</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">// DEFINE MEMBER METHODS</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="a05435.html#ad9cf5c46f6a395ee64fa5229b66855e2">   78</a></span>&#160;<a class="code" href="a05435.html#ad9cf5c46f6a395ee64fa5229b66855e2">Averaging::Averaging</a>()</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;: m_bIsRunning(false)</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;, m_bProcessData(false)</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="a05435.html#a363f09f8884cafe771f5f54e51a592d6">   87</a></span>&#160;<a class="code" href="a05435.html#a363f09f8884cafe771f5f54e51a592d6">Averaging::~Averaging</a>()</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;{</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span>(this-&gt;isRunning())</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="a05435.html#a2c32ce6de27c2abbe677719d64de7c60">stop</a>();</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="a05435.html#aed57d52a4b774dc7146924107f5a8eed">   96</a></span>&#160;QSharedPointer&lt;IPlugin&gt; <a class="code" href="a05435.html#aed57d52a4b774dc7146924107f5a8eed">Averaging::clone</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    QSharedPointer&lt;Averaging&gt; pAveragingClone(<span class="keyword">new</span> <a class="code" href="a05435.html">Averaging</a>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> pAveragingClone;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="a05435.html#ac6d6812dfc12dd7e6d4ba1b7e434a708">  105</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05435.html#ac6d6812dfc12dd7e6d4ba1b7e434a708">Averaging::unload</a>()</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="a05435.html#a722625f585b47a1e9473c7ce4d69800f">  112</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="a05435.html#a722625f585b47a1e9473c7ce4d69800f">Averaging::start</a>()</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">//    //Check if the thread is already or still running. This can happen if the start button is pressed immediately after the stop button was pressed. In this case the stopping process is not finished yet but the start process is initiated.</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">//    if(this-&gt;isRunning())</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">//        QThread::wait();</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    m_qMutex.lock();</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    m_bIsRunning = <span class="keyword">true</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    m_qMutex.unlock();</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// Start threads</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    QThread::start();</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="a05435.html#a2c32ce6de27c2abbe677719d64de7c60">  131</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="a05435.html#a2c32ce6de27c2abbe677719d64de7c60">Averaging::stop</a>()</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;{</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">//Wait until this thread is stopped</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    m_qMutex.lock();</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    m_bIsRunning = <span class="keyword">false</span>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span>(m_bProcessData) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="comment">//In case the semaphore blocks the thread -&gt; Release the QSemaphore and let it exit from the pop function (acquire statement)</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        m_pAveragingBuffer-&gt;<a class="code" href="a04783.html#a47b3787b6eee3c1e8160821d5e3ad054">releaseFromPop</a>();</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        m_pAveragingBuffer-&gt;<a class="code" href="a04783.html#a458d4ab449c1acd59e8e31b268915826">releaseFromPush</a>();</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        m_pAveragingBuffer-&gt;<a class="code" href="a04783.html#a0d4698e93a2cd596858eb80d929c36a7">clear</a>();</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">//        m_pRTMSAOutput-&gt;data()-&gt;clear();</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    m_qMutex.unlock();</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;}</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="a05435.html#aea835e4c311149866588a10016912391">  152</a></span>&#160;<a class="code" href="a05351.html#addfb10f54b9f7aaed5a12ad5665d8b5d">IPlugin::PluginType</a> <a class="code" href="a05435.html#aea835e4c311149866588a10016912391">Averaging::getType</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="a05351.html#addfb10f54b9f7aaed5a12ad5665d8b5da1dcae522385b31a0bb1d950224b3de2f">_IAlgorithm</a>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="a05435.html#a43b7dd205b96ac0c72c49632a37194cc">  160</a></span>&#160;QString <a class="code" href="a05435.html#a43b7dd205b96ac0c72c49632a37194cc">Averaging::getName</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Averaging&quot;</span>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="a05435.html#a8aa0baa94862db447db84844edb4dba3">  168</a></span>&#160;QWidget* <a class="code" href="a05435.html#a8aa0baa94862db447db84844edb4dba3">Averaging::setupWidget</a>()</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;{</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="a05443.html">AveragingSetupWidget</a>* <a class="code" href="a05435.html#a8aa0baa94862db447db84844edb4dba3">setupWidget</a> = <span class="keyword">new</span> <a class="code" href="a05443.html">AveragingSetupWidget</a>(<span class="keyword">this</span>);<span class="comment">//widget is later distroyed by CentralWidget - so it has to be created everytime new</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="a05435.html#a8aa0baa94862db447db84844edb4dba3">setupWidget</a>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="keywordtype">void</span> Averaging::update(<a class="code" href="a05299.html#ab0a022ec36c13e2f29d09aa4e08dc85d">SCMEASLIB::Measurement::SPtr</a> pMeasurement)</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    QSharedPointer&lt;RealTimeMultiSampleArray&gt; pRTMSA = pMeasurement.dynamicCast&lt;<a class="code" href="a05323.html">RealTimeMultiSampleArray</a>&gt;();</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span>(pRTMSA) {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="comment">//Check if buffer initialized</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordflow">if</span>(!m_pAveragingBuffer) {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            m_pAveragingBuffer = <a class="code" href="a04783.html">CircularMatrixBuffer&lt;double&gt;::SPtr</a>(<span class="keyword">new</span> <a class="code" href="a04783.html">CircularMatrixBuffer&lt;double&gt;</a>(64, pRTMSA-&gt;getNumChannels(), pRTMSA-&gt;getMultiSampleArray()[0].cols()));</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;         <span class="comment">//Fiff information</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">if</span>(!m_pFiffInfo) {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            m_pFiffInfo = pRTMSA-&gt;info();</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="comment">// Init the stim channels</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="keywordflow">for</span>(qint32 i = 0; i &lt; m_pFiffInfo-&gt;chs.size(); ++i) {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                <span class="keywordflow">if</span>(m_pFiffInfo-&gt;chs[i].kind == FIFFV_STIM_CH) {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                    m_mapStimChsIndexNames.insert(m_pFiffInfo-&gt;chs[i].ch_name,i);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                }</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="keywordflow">if</span>(m_pAveragingSettingsView) {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                m_pAveragingSettingsView-&gt;setStimChannels(m_mapStimChsIndexNames);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            }</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordflow">if</span>(m_pArtifactSettingsView) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                m_pArtifactSettingsView-&gt;setChInfo(m_pFiffInfo-&gt;chs);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        }</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="comment">// Append new data</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">if</span>(m_bProcessData) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordflow">for</span>(qint32 i = 0; i &lt; pRTMSA-&gt;getMultiSampleArray().size(); ++i) {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                <span class="keywordflow">if</span>(m_pRtAve) {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                    m_pAveragingBuffer-&gt;<a class="code" href="a04783.html#aa43706aa6110e3e799c58652d3af91be">push</a>(&amp;pRTMSA-&gt;getMultiSampleArray()[i]);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                }</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="a05435.html#a3f1efc9c1fe7b0c7fc6c766e08dba05a">  221</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05435.html#a3f1efc9c1fe7b0c7fc6c766e08dba05a">Averaging::init</a>()</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;{</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">// Input</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    m_pAveragingInput = <a class="code" href="a05379.html">PluginInputData&lt;RealTimeMultiSampleArray&gt;::create</a>(<span class="keyword">this</span>, <span class="stringliteral">&quot;AveragingIn&quot;</span>, <span class="stringliteral">&quot;Averaging input data&quot;</span>);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    connect(m_pAveragingInput.data(), &amp;PluginInputConnector::notify, <span class="keyword">this</span>, &amp;Averaging::update, Qt::DirectConnection);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="a05351.html#a469449e76829b8395ca018db00d78c04">m_inputConnectors</a>.append(m_pAveragingInput);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// Output</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    m_pAveragingOutput = <a class="code" href="a05391.html">PluginOutputData&lt;RealTimeEvokedSet&gt;::create</a>(<span class="keyword">this</span>, <span class="stringliteral">&quot;AveragingOut&quot;</span>, <span class="stringliteral">&quot;Averaging Output Data&quot;</span>);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    m_pAveragingOutput-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;setName(QString(<span class="stringliteral">&quot;Plugin/%1&quot;</span>).arg(this-&gt;<a class="code" href="a05435.html#a43b7dd205b96ac0c72c49632a37194cc">getName</a>()));<span class="comment">//Provide name to auto store widget settings</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="a05351.html#a3d20989cd2175fa71bf77ceb0c99f353">m_outputConnectors</a>.append(m_pAveragingOutput);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="comment">//Add control widgets to output data (will be used by QuickControlView by the measurements display)</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    m_pAveragingSettingsView = AveragingSettingsView::SPtr::create(QString(<span class="stringliteral">&quot;Plugin/%1&quot;</span>).arg(this-&gt;<a class="code" href="a05435.html#a43b7dd205b96ac0c72c49632a37194cc">getName</a>()));</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    m_pAveragingSettingsView-&gt;setObjectName(<span class="stringliteral">&quot;group_tab_Averaging_Settings&quot;</span>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    connect(m_pAveragingSettingsView.data(), &amp;AveragingSettingsView::changeNumAverages,</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="keyword">this</span>, &amp;<a class="code" href="a05435.html#a200455e0181cff3bb4c53a381d118e2a">Averaging::onChangeNumAverages</a>);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    connect(m_pAveragingSettingsView.data(), &amp;AveragingSettingsView::changeBaselineFrom,</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="keyword">this</span>, &amp;<a class="code" href="a05435.html#a11981a75f7648d63df9576179abdf8e8">Averaging::onChangeBaselineFrom</a>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    connect(m_pAveragingSettingsView.data(), &amp;AveragingSettingsView::changeBaselineTo,</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="keyword">this</span>, &amp;<a class="code" href="a05435.html#a8c1182d56268ce2f64c1cf42a7923c76">Averaging::onChangeBaselineTo</a>);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    connect(m_pAveragingSettingsView.data(), &amp;AveragingSettingsView::changePostStim,</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="keyword">this</span>, &amp;<a class="code" href="a05435.html#aca9d9e8789ebf91b2ac6f62e6f6e0232">Averaging::onChangePostStim</a>);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    connect(m_pAveragingSettingsView.data(), &amp;AveragingSettingsView::changePreStim,</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="keyword">this</span>, &amp;<a class="code" href="a05435.html#a2abcdbe7cb3f33999f6688f4ae8ae485">Averaging::onChangePreStim</a>);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    connect(m_pAveragingSettingsView.data(), &amp;AveragingSettingsView::changeStimChannel,</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="keyword">this</span>, &amp;<a class="code" href="a05435.html#a74c9a3fa4471ee0350e41cc0b02404c8">Averaging::onChangeStimChannel</a>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    connect(m_pAveragingSettingsView.data(), &amp;AveragingSettingsView::changeBaselineActive,</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="keyword">this</span>, &amp;<a class="code" href="a05435.html#aa630f31091cf8cc677b74846ca6e090d">Averaging::onChangeBaselineActive</a>);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    connect(m_pAveragingSettingsView.data(), &amp;AveragingSettingsView::resetAverage,</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keyword">this</span>, &amp;<a class="code" href="a05435.html#ad7f77204eec7a9c495d99c20e20e66f7">Averaging::onResetAverage</a>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    m_pAveragingOutput-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;addControlWidget(m_pAveragingSettingsView);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    m_pArtifactSettingsView = ArtifactSettingsView::SPtr::create(QString(<span class="stringliteral">&quot;Plugin/%1&quot;</span>).arg(this-&gt;<a class="code" href="a05435.html#a43b7dd205b96ac0c72c49632a37194cc">getName</a>()));</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    m_pArtifactSettingsView-&gt;setObjectName(<span class="stringliteral">&quot;group_tab_Averaging_Artifact&quot;</span>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    connect(m_pArtifactSettingsView.data(), &amp;ArtifactSettingsView::changeArtifactThreshold,</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <span class="keyword">this</span>, &amp;<a class="code" href="a05435.html#a1ca391289f801abda2847b49431566e5">Averaging::onChangeArtifactThreshold</a>);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    m_pAveragingOutput-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;addControlWidget(m_pArtifactSettingsView);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="a05435.html#a200455e0181cff3bb4c53a381d118e2a">  269</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05435.html#a200455e0181cff3bb4c53a381d118e2a">Averaging::onChangeNumAverages</a>(qint32 numAve)</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;{</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    QMutexLocker locker(&amp;m_qMutex);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">if</span>(m_pRtAve) {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        m_pRtAve-&gt;setAverageNumber(numAve);</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="a05435.html#a74c9a3fa4471ee0350e41cc0b02404c8">  280</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05435.html#a74c9a3fa4471ee0350e41cc0b02404c8">Averaging::onChangeStimChannel</a>(<span class="keyword">const</span> QString&amp; sStimCh)</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;{</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    QMutexLocker locker(&amp;m_qMutex);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">if</span>(m_pRtAve) {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        m_pRtAve-&gt;setTriggerChIndx(m_mapStimChsIndexNames[sStimCh]);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;}</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="a05435.html#a2abcdbe7cb3f33999f6688f4ae8ae485">  292</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05435.html#a2abcdbe7cb3f33999f6688f4ae8ae485">Averaging::onChangePreStim</a>(qint32 mseconds)</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;{</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    QMutexLocker locker(&amp;m_qMutex);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">if</span>(!m_pFiffInfo) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordtype">int</span> iPreStimSamples = ((float)(mseconds)/1000)*m_pFiffInfo-&gt;sfreq;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">if</span>(m_pAveragingOutput) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        m_pAveragingOutput-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;setNumPreStimSamples(iPreStimSamples);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span>(m_pRtAve) {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        m_pRtAve-&gt;setPreStim(iPreStimSamples, mseconds);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="a05435.html#aca9d9e8789ebf91b2ac6f62e6f6e0232">  314</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05435.html#aca9d9e8789ebf91b2ac6f62e6f6e0232">Averaging::onChangePostStim</a>(qint32 mseconds)</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;{</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    QMutexLocker locker(&amp;m_qMutex);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span>(!m_pFiffInfo) {</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordtype">int</span> iPostStimSamples = ((float)(mseconds)/1000)*m_pFiffInfo-&gt;sfreq;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keywordflow">if</span>(m_pRtAve) {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        m_pRtAve-&gt;setPostStim(iPostStimSamples, mseconds);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;}</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="a05435.html#a1ca391289f801abda2847b49431566e5">  332</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05435.html#a1ca391289f801abda2847b49431566e5">Averaging::onChangeArtifactThreshold</a>(<span class="keyword">const</span> QMap&lt;QString,double&gt;&amp; mapThresholds)</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;{</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    QMutexLocker locker(&amp;m_qMutex);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">if</span>(m_pRtAve) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        m_pRtAve-&gt;setArtifactReduction(mapThresholds);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="a05435.html#a11981a75f7648d63df9576179abdf8e8">  344</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05435.html#a11981a75f7648d63df9576179abdf8e8">Averaging::onChangeBaselineFrom</a>(qint32 fromMSeconds)</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;{</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    QMutexLocker locker(&amp;m_qMutex);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span>(!m_pFiffInfo) {</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordtype">int</span> iBaselineFromSamples = ((float)(fromMSeconds)/1000)*m_pFiffInfo-&gt;sfreq;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">if</span>(m_pRtAve) {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        m_pRtAve-&gt;setBaselineFrom(iBaselineFromSamples, fromMSeconds);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="a05435.html#a8c1182d56268ce2f64c1cf42a7923c76">  362</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05435.html#a8c1182d56268ce2f64c1cf42a7923c76">Averaging::onChangeBaselineTo</a>(qint32 toMSeconds)</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;{</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    QMutexLocker locker(&amp;m_qMutex);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">if</span>(!m_pFiffInfo) {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordtype">int</span> iBaselineToSamples = ((float)(toMSeconds)/1000)*m_pFiffInfo-&gt;sfreq;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span>(m_pRtAve) {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        m_pRtAve-&gt;setBaselineTo(iBaselineToSamples, toMSeconds);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;}</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="a05435.html#aa630f31091cf8cc677b74846ca6e090d">  380</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05435.html#aa630f31091cf8cc677b74846ca6e090d">Averaging::onChangeBaselineActive</a>(<span class="keywordtype">bool</span> state)</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;{</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    QMutexLocker locker(&amp;m_qMutex);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span>(m_pRtAve) {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        m_pRtAve-&gt;setBaselineActive(state);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="a05435.html#a0f6cac27aaeb8404d2bf97539c14833a">  391</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05435.html#a0f6cac27aaeb8404d2bf97539c14833a">Averaging::appendEvoked</a>(<span class="keyword">const</span> <a class="code" href="a03915.html">FIFFLIB::FiffEvokedSet</a>&amp; evokedSet,</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                             <span class="keyword">const</span> QStringList&amp; lResponsibleTriggerTypes)</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;{</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    m_qMutex.lock();</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    m_qVecEvokedData.push_back(evokedSet);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    m_lResponsibleTriggerTypes = lResponsibleTriggerTypes;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span>(m_pAveragingSettingsView) {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        m_pAveragingSettingsView-&gt;setDetectedEpochs(evokedSet);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    m_qMutex.unlock();</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;}</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="a05435.html#ad7f77204eec7a9c495d99c20e20e66f7">  408</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05435.html#ad7f77204eec7a9c495d99c20e20e66f7">Averaging::onResetAverage</a>(<span class="keywordtype">bool</span> state)</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;{</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    Q_UNUSED(state)</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    QMutexLocker locker(&amp;m_qMutex);</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span>(m_pRtAve) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        m_pRtAve-&gt;reset();</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;}</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="a05435.html#a27c6a171fdbad3514077519916104120">  421</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05435.html#a27c6a171fdbad3514077519916104120">Averaging::run</a>()</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;{</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">// Wait for fiff Info</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">while</span>(!m_pFiffInfo) {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        msleep(10);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span>(m_mapStimChsIndexNames.isEmpty()) {</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        qDebug() &lt;&lt; <span class="stringliteral">&quot;Averaging::run() - No stim channels were found. Averaging plugin was not started.&quot;</span>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    }</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordtype">int</span> iCurrentStimChIdx = m_mapStimChsIndexNames.value(m_pAveragingSettingsView-&gt;getCurrentStimCh());</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keywordflow">if</span>(!m_mapStimChsIndexNames.contains(m_pAveragingSettingsView-&gt;getCurrentStimCh())) {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        qDebug() &lt;&lt; <span class="stringliteral">&quot;Averaging::run() - Current stim channel is not present in data. Setting to first found stim channel instead.&quot;</span>;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        iCurrentStimChIdx = m_mapStimChsIndexNames.first();</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">// Init Real-Time average    </span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordtype">int</span> iPreStimSamples = ((float)m_pAveragingSettingsView-&gt;getPreStimSeconds()/1000)*m_pFiffInfo-&gt;sfreq;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordtype">int</span> iPostStimSamples = ((<span class="keywordtype">float</span>)m_pAveragingSettingsView-&gt;getPostStimSeconds()/1000)*m_pFiffInfo-&gt;sfreq;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordtype">int</span> iBaselineFromSamples = ((<span class="keywordtype">float</span>)m_pAveragingSettingsView-&gt;getBaselineFromSeconds()/1000)*m_pFiffInfo-&gt;sfreq;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordtype">int</span> iBaselineToSamples = ((<span class="keywordtype">float</span>)m_pAveragingSettingsView-&gt;getBaselineToSeconds()/1000)*m_pFiffInfo-&gt;sfreq;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    m_pRtAve = RtAve::SPtr::create(m_pAveragingSettingsView-&gt;getNumAverages(),</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                                   iPreStimSamples,</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                                   iPostStimSamples,</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                                   m_pAveragingSettingsView-&gt;getBaselineFromSeconds(),</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                                   m_pAveragingSettingsView-&gt;getBaselineToSeconds(),</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                                   iCurrentStimChIdx,</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                                   m_pFiffInfo);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    m_pRtAve-&gt;setBaselineFrom(iBaselineFromSamples, m_pAveragingSettingsView-&gt;getBaselineFromSeconds());</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    m_pRtAve-&gt;setBaselineTo(iBaselineToSamples, m_pAveragingSettingsView-&gt;getBaselineToSeconds());</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    m_pRtAve-&gt;setBaselineActive(m_pAveragingSettingsView-&gt;getDoBaselineCorrection());</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    m_pRtAve-&gt;setArtifactReduction(m_pArtifactSettingsView-&gt;getThresholdMap());</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    connect(m_pRtAve.data(), &amp;RtAve::evokedStim,</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            <span class="keyword">this</span>, &amp;<a class="code" href="a05435.html#a0f6cac27aaeb8404d2bf97539c14833a">Averaging::appendEvoked</a>);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    m_bProcessData = <span class="keyword">true</span>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">while</span>(<span class="keyword">true</span>) {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            QMutexLocker locker(&amp;m_qMutex);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            <span class="keywordflow">if</span>(!m_bIsRunning)</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="keywordtype">bool</span> doProcessing = <span class="keyword">false</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            QMutexLocker locker(&amp;m_qMutex);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            doProcessing = m_bProcessData;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">if</span>(doProcessing) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            m_pRtAve-&gt;append(m_pAveragingBuffer-&gt;<a class="code" href="a04783.html#aa8d868b14887588ea01039e7ea906e9f">pop</a>());</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            <span class="comment">// Dispatch the inputs</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            m_qMutex.lock();</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <span class="keywordflow">if</span>(!m_qVecEvokedData.isEmpty()) {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                <a class="code" href="a03915.html">FiffEvokedSet</a> t_fiffEvokedSet = m_qVecEvokedData.takeFirst();</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                m_pAveragingOutput-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;setValue(t_fiffEvokedSet,</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                                                     m_pFiffInfo,</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                                                     m_lResponsibleTriggerTypes);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            m_qMutex.unlock();</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        }</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    }</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    m_pRtAve-&gt;stop();</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;}</div><div class="ttc" id="a05351_html_addfb10f54b9f7aaed5a12ad5665d8b5da1dcae522385b31a0bb1d950224b3de2f"><div class="ttname"><a href="a05351.html#addfb10f54b9f7aaed5a12ad5665d8b5da1dcae522385b31a0bb1d950224b3de2f">SCSHAREDLIB::IPlugin::_IAlgorithm</a></div><div class="ttdef"><b>Definition:</b> <a href="a02255_source.html#l00103">IPlugin.h:103</a></div></div>
<div class="ttc" id="a05435_html"><div class="ttname"><a href="a05435.html">AVERAGINGPLUGIN::Averaging</a></div><div class="ttdoc">The Averaging class provides a Averaging algorithm structure. </div><div class="ttdef"><b>Definition:</b> <a href="a02369_source.html#l00106">averaging.h:106</a></div></div>
<div class="ttc" id="a05323_html"><div class="ttname"><a href="a05323.html">SCMEASLIB::RealTimeMultiSampleArray</a></div><div class="ttdoc">The RealTimeMultiSampleArrayNew class is the base class of every RealTimeMultiSampleArrayNew Measurem...</div><div class="ttdef"><b>Definition:</b> <a href="a02219_source.html#l00087">realtimemultisamplearray.h:87</a></div></div>
<div class="ttc" id="a05435_html_a0f6cac27aaeb8404d2bf97539c14833a"><div class="ttname"><a href="a05435.html#a0f6cac27aaeb8404d2bf97539c14833a">AVERAGINGPLUGIN::Averaging::appendEvoked</a></div><div class="ttdeci">void appendEvoked(const FIFFLIB::FiffEvokedSet &amp;evokedSet, const QStringList &amp;lResponsibleTriggerTypes)</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00391">averaging.cpp:391</a></div></div>
<div class="ttc" id="a00239_html"><div class="ttname"><a href="a00239.html">averagingsettingsview.h</a></div><div class="ttdoc">Contains the declaration of the AveragingSettingsView class. </div></div>
<div class="ttc" id="a03207_html"><div class="ttname"><a href="a03207.html">AVERAGINGPLUGIN</a></div><div class="ttdef"><b>Definition:</b> <a href="a02369_source.html#l00090">averaging.h:90</a></div></div>
<div class="ttc" id="a05379_html"><div class="ttname"><a href="a05379.html">SCSHAREDLIB::PluginInputData</a></div><div class="ttdef"><b>Definition:</b> <a href="a02294_source.html#l00060">plugininputdata.h:60</a></div></div>
<div class="ttc" id="a02219_html"><div class="ttname"><a href="a02219.html">realtimemultisamplearray.h</a></div><div class="ttdoc">Contains the declaration of the RealTimeMultiSampleArray class. </div></div>
<div class="ttc" id="a04783_html_a458d4ab449c1acd59e8e31b268915826"><div class="ttname"><a href="a04783.html#a458d4ab449c1acd59e8e31b268915826">IOBUFFER::CircularMatrixBuffer::releaseFromPush</a></div><div class="ttdeci">bool releaseFromPush()</div><div class="ttdef"><b>Definition:</b> <a href="a01562_source.html#l00372">circularmatrixbuffer.h:372</a></div></div>
<div class="ttc" id="a05351_html_a469449e76829b8395ca018db00d78c04"><div class="ttname"><a href="a05351.html#a469449e76829b8395ca018db00d78c04">SCSHAREDLIB::IPlugin::m_inputConnectors</a></div><div class="ttdeci">InputConnectorList m_inputConnectors</div><div class="ttdef"><b>Definition:</b> <a href="a02255_source.html#l00221">IPlugin.h:221</a></div></div>
<div class="ttc" id="a04783_html_aa43706aa6110e3e799c58652d3af91be"><div class="ttname"><a href="a04783.html#aa43706aa6110e3e799c58652d3af91be">IOBUFFER::CircularMatrixBuffer::push</a></div><div class="ttdeci">void push(const Matrix&lt; _Tp, Dynamic, Dynamic &gt; *pMatrix)</div><div class="ttdef"><b>Definition:</b> <a href="a01562_source.html#l00243">circularmatrixbuffer.h:243</a></div></div>
<div class="ttc" id="a05443_html"><div class="ttname"><a href="a05443.html">AVERAGINGPLUGIN::AveragingSetupWidget</a></div><div class="ttdoc">The AveragingSetupWidget class provides the AveragingToolbox configuration window. </div><div class="ttdef"><b>Definition:</b> <a href="a02384_source.html#l00085">averagingsetupwidget.h:85</a></div></div>
<div class="ttc" id="a05435_html_a11981a75f7648d63df9576179abdf8e8"><div class="ttname"><a href="a05435.html#a11981a75f7648d63df9576179abdf8e8">AVERAGINGPLUGIN::Averaging::onChangeBaselineFrom</a></div><div class="ttdeci">void onChangeBaselineFrom(qint32 fromMSeconds)</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00344">averaging.cpp:344</a></div></div>
<div class="ttc" id="a05435_html_a43b7dd205b96ac0c72c49632a37194cc"><div class="ttname"><a href="a05435.html#a43b7dd205b96ac0c72c49632a37194cc">AVERAGINGPLUGIN::Averaging::getName</a></div><div class="ttdeci">virtual QString getName() const</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00160">averaging.cpp:160</a></div></div>
<div class="ttc" id="a05435_html_aca9d9e8789ebf91b2ac6f62e6f6e0232"><div class="ttname"><a href="a05435.html#aca9d9e8789ebf91b2ac6f62e6f6e0232">AVERAGINGPLUGIN::Averaging::onChangePostStim</a></div><div class="ttdeci">void onChangePostStim(qint32 mseconds)</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00314">averaging.cpp:314</a></div></div>
<div class="ttc" id="a03915_html"><div class="ttname"><a href="a03915.html">FIFFLIB::FiffEvokedSet</a></div><div class="ttdoc">evoked data set </div><div class="ttdef"><b>Definition:</b> <a href="a00887_source.html#l00091">fiff_evoked_set.h:91</a></div></div>
<div class="ttc" id="a05435_html_aea835e4c311149866588a10016912391"><div class="ttname"><a href="a05435.html#aea835e4c311149866588a10016912391">AVERAGINGPLUGIN::Averaging::getType</a></div><div class="ttdeci">virtual SCSHAREDLIB::IPlugin::PluginType getType() const</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00152">averaging.cpp:152</a></div></div>
<div class="ttc" id="a00221_html"><div class="ttname"><a href="a00221.html">artifactsettingsview.h</a></div><div class="ttdoc">Declaration of the ArtifactSettingsView class. </div></div>
<div class="ttc" id="a03164_html"><div class="ttname"><a href="a03164.html">DISPLIB</a></div><div class="ttdef"><b>Definition:</b> <a href="a00173_source.html#l00079">bar.h:79</a></div></div>
<div class="ttc" id="a03162_html"><div class="ttname"><a href="a03162.html">FIFFLIB</a></div><div class="ttdef"><b>Definition:</b> <a href="a00059_source.html#l00079">connectivitysettings.h:79</a></div></div>
<div class="ttc" id="a05435_html_a8aa0baa94862db447db84844edb4dba3"><div class="ttname"><a href="a05435.html#a8aa0baa94862db447db84844edb4dba3">AVERAGINGPLUGIN::Averaging::setupWidget</a></div><div class="ttdeci">virtual QWidget * setupWidget()</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00168">averaging.cpp:168</a></div></div>
<div class="ttc" id="a04783_html_aa8d868b14887588ea01039e7ea906e9f"><div class="ttname"><a href="a04783.html#aa8d868b14887588ea01039e7ea906e9f">IOBUFFER::CircularMatrixBuffer::pop</a></div><div class="ttdeci">Matrix&lt; _Tp, Dynamic, Dynamic &gt; pop()</div><div class="ttdef"><b>Definition:</b> <a href="a01562_source.html#l00266">circularmatrixbuffer.h:266</a></div></div>
<div class="ttc" id="a05435_html_ac6d6812dfc12dd7e6d4ba1b7e434a708"><div class="ttname"><a href="a05435.html#ac6d6812dfc12dd7e6d4ba1b7e434a708">AVERAGINGPLUGIN::Averaging::unload</a></div><div class="ttdeci">virtual void unload()</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00105">averaging.cpp:105</a></div></div>
<div class="ttc" id="a04783_html_a0d4698e93a2cd596858eb80d929c36a7"><div class="ttname"><a href="a04783.html#a0d4698e93a2cd596858eb80d929c36a7">IOBUFFER::CircularMatrixBuffer::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="a01562_source.html#l00299">circularmatrixbuffer.h:299</a></div></div>
<div class="ttc" id="a05435_html_a8c1182d56268ce2f64c1cf42a7923c76"><div class="ttname"><a href="a05435.html#a8c1182d56268ce2f64c1cf42a7923c76">AVERAGINGPLUGIN::Averaging::onChangeBaselineTo</a></div><div class="ttdeci">void onChangeBaselineTo(qint32 toMSeconds)</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00362">averaging.cpp:362</a></div></div>
<div class="ttc" id="a03182_html"><div class="ttname"><a href="a03182.html">RTPROCESSINGLIB</a></div><div class="ttdef"><b>Definition:</b> <a href="a01466_source.html#l00080">rtave.h:80</a></div></div>
<div class="ttc" id="a05435_html_a74c9a3fa4471ee0350e41cc0b02404c8"><div class="ttname"><a href="a05435.html#a74c9a3fa4471ee0350e41cc0b02404c8">AVERAGINGPLUGIN::Averaging::onChangeStimChannel</a></div><div class="ttdeci">void onChangeStimChannel(const QString &amp;sStimCh)</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00280">averaging.cpp:280</a></div></div>
<div class="ttc" id="a05435_html_ad7f77204eec7a9c495d99c20e20e66f7"><div class="ttname"><a href="a05435.html#ad7f77204eec7a9c495d99c20e20e66f7">AVERAGINGPLUGIN::Averaging::onResetAverage</a></div><div class="ttdeci">void onResetAverage(bool state)</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00408">averaging.cpp:408</a></div></div>
<div class="ttc" id="a02384_html"><div class="ttname"><a href="a02384.html">averagingsetupwidget.h</a></div><div class="ttdoc">Contains the declaration of the AveragingSetupWidget class. </div></div>
<div class="ttc" id="a05435_html_aa630f31091cf8cc677b74846ca6e090d"><div class="ttname"><a href="a05435.html#aa630f31091cf8cc677b74846ca6e090d">AVERAGINGPLUGIN::Averaging::onChangeBaselineActive</a></div><div class="ttdeci">void onChangeBaselineActive(bool state)</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00380">averaging.cpp:380</a></div></div>
<div class="ttc" id="a05435_html_a3f1efc9c1fe7b0c7fc6c766e08dba05a"><div class="ttname"><a href="a05435.html#a3f1efc9c1fe7b0c7fc6c766e08dba05a">AVERAGINGPLUGIN::Averaging::init</a></div><div class="ttdeci">virtual void init()</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00221">averaging.cpp:221</a></div></div>
<div class="ttc" id="a04783_html_a47b3787b6eee3c1e8160821d5e3ad054"><div class="ttname"><a href="a04783.html#a47b3787b6eee3c1e8160821d5e3ad054">IOBUFFER::CircularMatrixBuffer::releaseFromPop</a></div><div class="ttdeci">bool releaseFromPop()</div><div class="ttdef"><b>Definition:</b> <a href="a01562_source.html#l00350">circularmatrixbuffer.h:350</a></div></div>
<div class="ttc" id="a05435_html_a2abcdbe7cb3f33999f6688f4ae8ae485"><div class="ttname"><a href="a05435.html#a2abcdbe7cb3f33999f6688f4ae8ae485">AVERAGINGPLUGIN::Averaging::onChangePreStim</a></div><div class="ttdeci">void onChangePreStim(qint32 mseconds)</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00292">averaging.cpp:292</a></div></div>
<div class="ttc" id="a05435_html_a200455e0181cff3bb4c53a381d118e2a"><div class="ttname"><a href="a05435.html#a200455e0181cff3bb4c53a381d118e2a">AVERAGINGPLUGIN::Averaging::onChangeNumAverages</a></div><div class="ttdeci">void onChangeNumAverages(qint32 numAve)</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00269">averaging.cpp:269</a></div></div>
<div class="ttc" id="a05351_html_addfb10f54b9f7aaed5a12ad5665d8b5d"><div class="ttname"><a href="a05351.html#addfb10f54b9f7aaed5a12ad5665d8b5d">SCSHAREDLIB::IPlugin::PluginType</a></div><div class="ttdeci">PluginType</div><div class="ttdef"><b>Definition:</b> <a href="a02255_source.html#l00100">IPlugin.h:100</a></div></div>
<div class="ttc" id="a05435_html_ad9cf5c46f6a395ee64fa5229b66855e2"><div class="ttname"><a href="a05435.html#ad9cf5c46f6a395ee64fa5229b66855e2">AVERAGINGPLUGIN::Averaging::Averaging</a></div><div class="ttdeci">Averaging()</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00078">averaging.cpp:78</a></div></div>
<div class="ttc" id="a05435_html_a363f09f8884cafe771f5f54e51a592d6"><div class="ttname"><a href="a05435.html#a363f09f8884cafe771f5f54e51a592d6">AVERAGINGPLUGIN::Averaging::~Averaging</a></div><div class="ttdeci">~Averaging()</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00087">averaging.cpp:87</a></div></div>
<div class="ttc" id="a05299_html_ab0a022ec36c13e2f29d09aa4e08dc85d"><div class="ttname"><a href="a05299.html#ab0a022ec36c13e2f29d09aa4e08dc85d">SCMEASLIB::Measurement::SPtr</a></div><div class="ttdeci">QSharedPointer&lt; Measurement &gt; SPtr</div><div class="ttdef"><b>Definition:</b> <a href="a02183_source.html#l00070">measurement.h:70</a></div></div>
<div class="ttc" id="a03183_html"><div class="ttname"><a href="a03183.html">IOBUFFER</a></div><div class="ttdef"><b>Definition:</b> <a href="a01547_source.html#l00060">buffer.h:60</a></div></div>
<div class="ttc" id="a04783_html"><div class="ttname"><a href="a04783.html">IOBUFFER::CircularMatrixBuffer</a></div><div class="ttdoc">The circular matrix buffer. </div><div class="ttdef"><b>Definition:</b> <a href="a01562_source.html#l00100">circularmatrixbuffer.h:100</a></div></div>
<div class="ttc" id="a03205_html"><div class="ttname"><a href="a03205.html">SCSHAREDLIB</a></div><div class="ttdef"><b>Definition:</b> <a href="a02249_source.html#l00060">IAlgorithm.h:60</a></div></div>
<div class="ttc" id="a05435_html_aed57d52a4b774dc7146924107f5a8eed"><div class="ttname"><a href="a05435.html#aed57d52a4b774dc7146924107f5a8eed">AVERAGINGPLUGIN::Averaging::clone</a></div><div class="ttdeci">virtual QSharedPointer&lt; SCSHAREDLIB::IPlugin &gt; clone() const</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00096">averaging.cpp:96</a></div></div>
<div class="ttc" id="a01466_html"><div class="ttname"><a href="a01466.html">rtave.h</a></div><div class="ttdoc">RtAveWorker class declaration. </div></div>
<div class="ttc" id="a05435_html_a722625f585b47a1e9473c7ce4d69800f"><div class="ttname"><a href="a05435.html#a722625f585b47a1e9473c7ce4d69800f">AVERAGINGPLUGIN::Averaging::start</a></div><div class="ttdeci">virtual bool start()</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00112">averaging.cpp:112</a></div></div>
<div class="ttc" id="a05435_html_a2c32ce6de27c2abbe677719d64de7c60"><div class="ttname"><a href="a05435.html#a2c32ce6de27c2abbe677719d64de7c60">AVERAGINGPLUGIN::Averaging::stop</a></div><div class="ttdeci">virtual bool stop()</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00131">averaging.cpp:131</a></div></div>
<div class="ttc" id="a02213_html"><div class="ttname"><a href="a02213.html">realtimeevokedset.h</a></div><div class="ttdoc">Contains the declaration of the RealTimeEvokedSet class. </div></div>
<div class="ttc" id="a05435_html_a1ca391289f801abda2847b49431566e5"><div class="ttname"><a href="a05435.html#a1ca391289f801abda2847b49431566e5">AVERAGINGPLUGIN::Averaging::onChangeArtifactThreshold</a></div><div class="ttdeci">void onChangeArtifactThreshold(const QMap&lt; QString, double &gt; &amp;mapThresholds)</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00332">averaging.cpp:332</a></div></div>
<div class="ttc" id="a02369_html"><div class="ttname"><a href="a02369.html">averaging.h</a></div><div class="ttdoc">Contains the declaration of the Averaging class. </div></div>
<div class="ttc" id="a05391_html"><div class="ttname"><a href="a05391.html">SCSHAREDLIB::PluginOutputData</a></div><div class="ttdoc">PluginOutputConnector with specified Measurement. </div><div class="ttdef"><b>Definition:</b> <a href="a02312_source.html#l00072">pluginoutputdata.h:72</a></div></div>
<div class="ttc" id="a05435_html_a27c6a171fdbad3514077519916104120"><div class="ttname"><a href="a05435.html#a27c6a171fdbad3514077519916104120">AVERAGINGPLUGIN::Averaging::run</a></div><div class="ttdeci">virtual void run()</div><div class="ttdef"><b>Definition:</b> <a href="a02366_source.html#l00421">averaging.cpp:421</a></div></div>
<div class="ttc" id="a05351_html_a3d20989cd2175fa71bf77ceb0c99f353"><div class="ttname"><a href="a05351.html#a3d20989cd2175fa71bf77ceb0c99f353">SCSHAREDLIB::IPlugin::m_outputConnectors</a></div><div class="ttdeci">OutputConnectorList m_outputConnectors</div><div class="ttdef"><b>Definition:</b> <a href="a02255_source.html#l00222">IPlugin.h:222</a></div></div>
<div class="ttc" id="a05391_html_aceae87f721c31ca112ce126fcd522685"><div class="ttname"><a href="a05391.html#aceae87f721c31ca112ce126fcd522685">SCSHAREDLIB::PluginOutputData::data</a></div><div class="ttdeci">QSharedPointer&lt; T &gt; &amp; data()</div><div class="ttdef"><b>Definition:</b> <a href="a02312_source.html#l00135">pluginoutputdata.h:135</a></div></div>
<div class="ttc" id="a03204_html"><div class="ttname"><a href="a03204.html">SCMEASLIB</a></div><div class="ttdef"><b>Definition:</b> <a href="a02138_source.html#l00078">realtimeconnectivityestimatewidget.h:78</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 18 2019 19:35:41
</small></address>
</body>
</html>