<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>MNE-CPP Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a class="site-logo" href="http://www.mne-cpp.org/" title="A Framework for Electrophysiology"><img alt="Logo" src="MNE-CPP_Doxygen_Logo.svg"/></a></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MNE-CPP
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">A Framework for Electrophysiology</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_a6e4fee11f07c3b70486e88fe92cbbdc.html">applications</a></li><li class="navelem"><a class="el" href="dir_e446c6e1cb3fc1a93d99e5b33bb756bc.html">mne_scan</a></li><li class="navelem"><a class="el" href="dir_dff0cf57900fd280f21b02b063bc8d88.html">plugins</a></li><li class="navelem"><a class="el" href="dir_ea93266007aa6a75674497d3fb8a87ea.html">fiffsimulator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">fiffsimulator.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"></span><span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// INCLUDES</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;fiffsimulator.h&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a02672.html">fiffsimulatorproducer.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="a02684.html">FormFiles/fiffsimulatorsetupwidget.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a01583.html">utils/ioutils.h</a>&gt;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a00908.html">fiff/fiff_info.h</a>&gt;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a02219.html">scMeas/realtimemultisamplearray.h</a>&gt;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a00773.html">disp3D/viewers/hpiview.h</a>&gt;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">// QT INCLUDES</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &lt;QtCore/QtPlugin&gt;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &lt;QtCore/QTextStream&gt;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &lt;QtCore/QFile&gt;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &lt;QMutexLocker&gt;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &lt;QList&gt;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &lt;QDebug&gt;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">// USED NAMESPACES</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03218.html">FIFFSIMULATORPLUGIN</a>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03167.html">UTILSLIB</a>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03205.html">SCSHAREDLIB</a>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03183.html">IOBUFFER</a>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03204.html">SCMEASLIB</a>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03158.html">COMMUNICATIONLIB</a>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keyword">using namespace </span><a class="code" href="a03170.html">DISP3DLIB</a>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">// DEFINE MEMBER METHODS</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">//=============================================================================================================</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="a05651.html#abfab6431cc660e8078c2d5879cd1da0c">   85</a></span>&#160;<a class="code" href="a05651.html#abfab6431cc660e8078c2d5879cd1da0c">FiffSimulator::FiffSimulator</a>()</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;: m_sFiffSimulatorClientAlias(<span class="stringliteral">&quot;mne_scan&quot;</span>)</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;, m_pRtCmdClient(NULL)</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;, m_bCmdClientIsConnected(false)</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;, m_sFiffSimulatorIP(<span class="stringliteral">&quot;127.0.0.1&quot;</span>)<span class="comment">//(&quot;172.21.16.88&quot;)</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;, m_pFiffSimulatorProducer(new <a class="code" href="a05655.html">FiffSimulatorProducer</a>(this))</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;, m_iBufferSize(-1)</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;, m_pRawMatrixBuffer_In(0)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;, m_bIsRunning(false)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;, m_iActiveConnectorId(0)</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;, m_bDoContinousHPI(false)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">//Init HPI</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="a05651.html#a08e24373082c3e3a05ea3285bb3eae5a">m_pActionComputeHPI</a> = <span class="keyword">new</span> QAction(QIcon(<span class="stringliteral">&quot;:/images/latestFiffInfoHPI.png&quot;</span>), tr(<span class="stringliteral">&quot;Compute HPI&quot;</span>),<span class="keyword">this</span>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="a05651.html#a08e24373082c3e3a05ea3285bb3eae5a">m_pActionComputeHPI</a>-&gt;setStatusTip(tr(<span class="stringliteral">&quot;Compute HPI&quot;</span>));</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    connect(<a class="code" href="a05651.html#a08e24373082c3e3a05ea3285bb3eae5a">m_pActionComputeHPI</a>, &amp;QAction::triggered,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keyword">this</span>, &amp;<a class="code" href="a05651.html#aaf24a0bc60ab317d977fdc177062e6e8">FiffSimulator::showHPIDialog</a>);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="a05351.html#acd0c42811d473bfa88b5f280d3da6ca3">addPluginAction</a>(<a class="code" href="a05651.html#a08e24373082c3e3a05ea3285bb3eae5a">m_pActionComputeHPI</a>);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="a05651.html#a2a63393752e74067b391ea74b418be3f">  108</a></span>&#160;<a class="code" href="a05651.html#a2a63393752e74067b391ea74b418be3f">FiffSimulator::~FiffSimulator</a>()</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="a05651.html#ab556644b77f2485bf4c1ecbd173d0c95">m_pFiffSimulatorProducer</a>-&gt;isRunning() || this-&gt;isRunning())</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <a class="code" href="a05651.html#ad39340aeabdb354dff5b2eb263287ce8">stop</a>();</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="a05651.html#a8bd7e1e0d9735df71170e9b92c91c349">  117</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05651.html#a8bd7e1e0d9735df71170e9b92c91c349">FiffSimulator::clear</a>()</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    QMutexLocker locker(&amp;m_qMutex);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="a05651.html#ac802c27d5bb4c1f217587250cf8a8b65">m_pFiffInfo</a>.reset();</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="a05651.html#a7dfc6c46aaa763a0f713bea1aa458746">m_iBufferSize</a> = -1;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="a05651.html#a560ff0ced87d518c244e0ad990ac23ac">  127</a></span>&#160;QSharedPointer&lt;IPlugin&gt; <a class="code" href="a05651.html#a560ff0ced87d518c244e0ad990ac23ac">FiffSimulator::clone</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    QSharedPointer&lt;FiffSimulator&gt; pFiffSimulatorClone(<span class="keyword">new</span> <a class="code" href="a05651.html#abfab6431cc660e8078c2d5879cd1da0c">FiffSimulator</a>());</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">return</span> pFiffSimulatorClone;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="a05651.html#a9c95f8e2e5de1adb190cc714fbe0f07b">  136</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05651.html#a9c95f8e2e5de1adb190cc714fbe0f07b">FiffSimulator::init</a>()</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="a05651.html#abd0e52d664ffbb708a2d87a88c8c63cd">m_pRTMSA_FiffSimulator</a> = <a class="code" href="a05391.html">PluginOutputData&lt;RealTimeMultiSampleArray&gt;::create</a>(<span class="keyword">this</span>, <span class="stringliteral">&quot;FiffSimulator&quot;</span>, <span class="stringliteral">&quot;Fiff Simulator Output&quot;</span>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="a05651.html#abd0e52d664ffbb708a2d87a88c8c63cd">m_pRTMSA_FiffSimulator</a>-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;setName(this-&gt;<a class="code" href="a05651.html#ac4ab888112e63be97cc38a908706cf91">getName</a>());<span class="comment">//Provide name to auto store widget settings</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="a05351.html#a3d20989cd2175fa71bf77ceb0c99f353">m_outputConnectors</a>.append(<a class="code" href="a05651.html#abd0e52d664ffbb708a2d87a88c8c63cd">m_pRTMSA_FiffSimulator</a>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// Start FiffSimulatorProducer</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="a05651.html#ab556644b77f2485bf4c1ecbd173d0c95">m_pFiffSimulatorProducer</a>-&gt;start();</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">//init channels when fiff info is available</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    connect(<span class="keyword">this</span>, &amp;<a class="code" href="a05651.html#afb560dd7302375b7d0e58281c9fee2fc">FiffSimulator::fiffInfoAvailable</a>,</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keyword">this</span>, &amp;<a class="code" href="a05651.html#a46af0eadcd729e666d07989c46e4df9b">FiffSimulator::initConnector</a>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment">//Try to connect the cmd client on start up using localhost connection</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    this-&gt;<a class="code" href="a05651.html#a0d3f29a11133f5ab7532ec879652e34e">connectCmdClient</a>();</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;}</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="a05651.html#a8ef580f84545f48b613e44ca416ae1e2">  156</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05651.html#a8ef580f84545f48b613e44ca416ae1e2">FiffSimulator::unload</a>()</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;{</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    qDebug() &lt;&lt; <span class="stringliteral">&quot;void FiffSimulator::unload()&quot;</span>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="a05651.html#a9e7ef070b71e39a1036fe66021fd2322">  164</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="a05651.html#a9e7ef070b71e39a1036fe66021fd2322">FiffSimulator::start</a>()</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;{</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">//    //Check if the thread is already or still running. This can happen if the start button is pressed immediately after the stop button was pressed. In this case the stopping process is not finished yet but the start process is initiated.</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">//    if(this-&gt;isRunning())</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">//        QThread::wait();</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="a05651.html#a93218b38394ae0beaf22c8778532b364">m_bCmdClientIsConnected</a> &amp;&amp; <a class="code" href="a05651.html#ac802c27d5bb4c1f217587250cf8a8b65">m_pFiffInfo</a>)</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="comment">//Set buffer size</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        (*m_pRtCmdClient)[<span class="stringliteral">&quot;bufsize&quot;</span>].pValues()[0].setValue(<a class="code" href="a05651.html#a7dfc6c46aaa763a0f713bea1aa458746">m_iBufferSize</a>);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        (*m_pRtCmdClient)[<span class="stringliteral">&quot;bufsize&quot;</span>].send();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="comment">// Buffer</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        m_qMutex.lock();</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="a05651.html#a9b2bf14881acfd4e3b59e99643f8ab1d">m_pRawMatrixBuffer_In</a> = QSharedPointer&lt;RawMatrixBuffer&gt;(<span class="keyword">new</span> <a class="code" href="a01562.html#ad7df02aae3c32f72eb464055f493cae9">RawMatrixBuffer</a>(8,<a class="code" href="a05651.html#ac802c27d5bb4c1f217587250cf8a8b65">m_pFiffInfo</a>-&gt;nchan,<a class="code" href="a05651.html#a7dfc6c46aaa763a0f713bea1aa458746">m_iBufferSize</a>));</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="a05651.html#a15cae5623d7a1ade617e98ee0cf48f1e">m_bIsRunning</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        m_qMutex.unlock();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="comment">// Start threads</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        QThread::start();</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <a class="code" href="a05651.html#ab556644b77f2485bf4c1ecbd173d0c95">m_pFiffSimulatorProducer</a>-&gt;start();</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">while</span>(!<a class="code" href="a05651.html#ab556644b77f2485bf4c1ecbd173d0c95">m_pFiffSimulatorProducer</a>-&gt;m_bFlagMeasuring)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            msleep(1);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="comment">// Start Measurement at rt_Server</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="comment">// start measurement</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        (*m_pRtCmdClient)[<span class="stringliteral">&quot;start&quot;</span>].pValues()[0].setValue(<a class="code" href="a05651.html#ab556644b77f2485bf4c1ecbd173d0c95">m_pFiffSimulatorProducer</a>-&gt;m_iDataClientId);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        (*m_pRtCmdClient)[<span class="stringliteral">&quot;start&quot;</span>].send();</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="a05651.html#ad39340aeabdb354dff5b2eb263287ce8">  204</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="a05651.html#ad39340aeabdb354dff5b2eb263287ce8">FiffSimulator::stop</a>()</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;{</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="a05651.html#ab556644b77f2485bf4c1ecbd173d0c95">m_pFiffSimulatorProducer</a>-&gt;isRunning()) {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <a class="code" href="a05651.html#ab556644b77f2485bf4c1ecbd173d0c95">m_pFiffSimulatorProducer</a>-&gt;stop();</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">//Wait until this thread is stopped</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    m_qMutex.lock();</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="a05651.html#a15cae5623d7a1ade617e98ee0cf48f1e">m_bIsRunning</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    m_qMutex.unlock();</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span>(this-&gt;isRunning())</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    {</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="comment">//In case the semaphore blocks the thread -&gt; Release the QSemaphore and let it exit from the pop function (acquire statement)</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <a class="code" href="a05651.html#a9b2bf14881acfd4e3b59e99643f8ab1d">m_pRawMatrixBuffer_In</a>-&gt;releaseFromPop();</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <a class="code" href="a05651.html#a9b2bf14881acfd4e3b59e99643f8ab1d">m_pRawMatrixBuffer_In</a>-&gt;clear();</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="a05651.html#abd0e52d664ffbb708a2d87a88c8c63cd">m_pRTMSA_FiffSimulator</a>-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;clear();</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="a05651.html#ad43705aa38ad624e54feb036297d6a70">m_pHPIWidget</a>) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <a class="code" href="a05651.html#ad43705aa38ad624e54feb036297d6a70">m_pHPIWidget</a>-&gt;hide();</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="a05651.html#af22b042015094ebd33f554508f90b7dc">  235</a></span>&#160;<a class="code" href="a05351.html#addfb10f54b9f7aaed5a12ad5665d8b5d">IPlugin::PluginType</a> <a class="code" href="a05651.html#af22b042015094ebd33f554508f90b7dc">FiffSimulator::getType</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="a05351.html#addfb10f54b9f7aaed5a12ad5665d8b5da86f46a40444d051a5b7ace338f27dedd">_ISensor</a>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="a05651.html#ac4ab888112e63be97cc38a908706cf91">  243</a></span>&#160;QString <a class="code" href="a05651.html#ac4ab888112e63be97cc38a908706cf91">FiffSimulator::getName</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Fiff Simulator&quot;</span>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;}</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="a05651.html#a5dea52c7ae740fafac9eb31d7ede344c">  251</a></span>&#160;QWidget* <a class="code" href="a05651.html#a5dea52c7ae740fafac9eb31d7ede344c">FiffSimulator::setupWidget</a>()</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;{</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="a05663.html">FiffSimulatorSetupWidget</a>* widget = <span class="keyword">new</span> <a class="code" href="a05663.html">FiffSimulatorSetupWidget</a>(<span class="keyword">this</span>);<span class="comment">//widget is later distroyed by CentralWidget - so it has to be created everytime new</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">return</span> widget;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="a05651.html#a47041cfa4dec55584ced2a41e752cf62">  261</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05651.html#a47041cfa4dec55584ced2a41e752cf62">FiffSimulator::run</a>()</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;{</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    MatrixXf matValue;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">while</span>(<span class="keyword">true</span>) {</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            QMutexLocker locker(&amp;m_qMutex);</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="keywordflow">if</span>(!<a class="code" href="a05651.html#a15cae5623d7a1ade617e98ee0cf48f1e">m_bIsRunning</a>)</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="comment">//pop matrix</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        matValue = <a class="code" href="a05651.html#a9b2bf14881acfd4e3b59e99643f8ab1d">m_pRawMatrixBuffer_In</a>-&gt;pop();</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="comment">//Update HPI data (for single and continous HPI fitting)</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <a class="code" href="a05651.html#a0c6b3df1256a808bc825844c342e4aa6">updateHPI</a>(matValue);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="comment">//Do continous HPI fitting and write result to data block</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="a05651.html#a0e9897eab38050c3baaf77ef895c00d6">m_bDoContinousHPI</a>) {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <a class="code" href="a05651.html#a667a6a62567b146f5176615f54dfdc11">doContinousHPI</a>(matValue);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="comment">//emit values</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="a05651.html#abd0e52d664ffbb708a2d87a88c8c63cd">m_pRTMSA_FiffSimulator</a>-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;setValue(matValue.cast&lt;<span class="keywordtype">double</span>&gt;());</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="a05651.html#a46af0eadcd729e666d07989c46e4df9b">  290</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05651.html#a46af0eadcd729e666d07989c46e4df9b">FiffSimulator::initConnector</a>()</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;{</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="a05651.html#ac802c27d5bb4c1f217587250cf8a8b65">m_pFiffInfo</a>)</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="a05651.html#abd0e52d664ffbb708a2d87a88c8c63cd">m_pRTMSA_FiffSimulator</a>-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;initFromFiffInfo(<a class="code" href="a05651.html#ac802c27d5bb4c1f217587250cf8a8b65">m_pFiffInfo</a>);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="a05651.html#abd0e52d664ffbb708a2d87a88c8c63cd">m_pRTMSA_FiffSimulator</a>-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;setMultiArraySize(1);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <a class="code" href="a05651.html#abd0e52d664ffbb708a2d87a88c8c63cd">m_pRTMSA_FiffSimulator</a>-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;setVisibility(<span class="keyword">true</span>);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <a class="code" href="a05651.html#abd0e52d664ffbb708a2d87a88c8c63cd">m_pRTMSA_FiffSimulator</a>-&gt;<a class="code" href="a05391.html#aceae87f721c31ca112ce126fcd522685">data</a>()-&gt;setXMLLayoutFile(QCoreApplication::applicationDirPath() + <span class="stringliteral">&quot;/resources/mne_scan/plugins/FiffSimulator/VectorViewSimLayout.xml&quot;</span>);</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;}</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="a05651.html#aacdbba7abddec72d9e475fe1dac65c70">  304</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05651.html#aacdbba7abddec72d9e475fe1dac65c70">FiffSimulator::changeConnector</a>(qint32 p_iNewConnectorId)</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;{</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span>(p_iNewConnectorId != <a class="code" href="a05651.html#a9a92565027385225bd2e4d079477e74b">m_iActiveConnectorId</a>)</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="comment">// read meas info</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        (*m_pRtCmdClient)[<span class="stringliteral">&quot;selcon&quot;</span>].pValues()[0].setValue(p_iNewConnectorId);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        (*m_pRtCmdClient)[<span class="stringliteral">&quot;selcon&quot;</span>].send();</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <a class="code" href="a05651.html#a9a92565027385225bd2e4d079477e74b">m_iActiveConnectorId</a> = p_iNewConnectorId;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="comment">// clear all and request everything new</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="a05651.html#a8bd7e1e0d9735df71170e9b92c91c349">clear</a>();</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="comment">// request available commands</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="a05651.html#a430a9ce33a3ec902ad7f8dbb777fe6da">m_pRtCmdClient</a>-&gt;requestCommands();</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="comment">// Read Info</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="a05651.html#ac802c27d5bb4c1f217587250cf8a8b65">m_pFiffInfo</a>)</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <a class="code" href="a05651.html#ac770591693d187a8f141bf40eb54d3a1">requestInfo</a>();</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="comment">// Read Buffer Size</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="comment">//</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <a class="code" href="a05651.html#a7dfc6c46aaa763a0f713bea1aa458746">m_iBufferSize</a> = <a class="code" href="a05651.html#a430a9ce33a3ec902ad7f8dbb777fe6da">m_pRtCmdClient</a>-&gt;requestBufsize();</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        emit <a class="code" href="a05651.html#a8d5d41fd523c545c9c237eaff439fd4d">cmdConnectionChanged</a>(<a class="code" href="a05651.html#a93218b38394ae0beaf22c8778532b364">m_bCmdClientIsConnected</a>);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="a05651.html#a0d3f29a11133f5ab7532ec879652e34e">  344</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05651.html#a0d3f29a11133f5ab7532ec879652e34e">FiffSimulator::connectCmdClient</a>()</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;{</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="a05651.html#a430a9ce33a3ec902ad7f8dbb777fe6da">m_pRtCmdClient</a>.isNull())</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <a class="code" href="a05651.html#a430a9ce33a3ec902ad7f8dbb777fe6da">m_pRtCmdClient</a> = QSharedPointer&lt;RtCmdClient&gt;(<span class="keyword">new</span> <a class="code" href="a03247.html">RtCmdClient</a>);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="a05651.html#a93218b38394ae0beaf22c8778532b364">m_bCmdClientIsConnected</a>)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        this-&gt;<a class="code" href="a05651.html#aede31b89a094c7a6e75a6bfc1294b249">disconnectCmdClient</a>();</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="a05651.html#a430a9ce33a3ec902ad7f8dbb777fe6da">m_pRtCmdClient</a>-&gt;connectToHost(<a class="code" href="a05651.html#a607c813a03e78afbf450049f79fe2ee8">m_sFiffSimulatorIP</a>);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <a class="code" href="a05651.html#a430a9ce33a3ec902ad7f8dbb777fe6da">m_pRtCmdClient</a>-&gt;waitForConnected(1000);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="a05651.html#a430a9ce33a3ec902ad7f8dbb777fe6da">m_pRtCmdClient</a>-&gt;state() == QTcpSocket::ConnectedState)</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        m_qMutex.lock();</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="a05651.html#a93218b38394ae0beaf22c8778532b364">m_bCmdClientIsConnected</a>)</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <span class="comment">// request available commands</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <a class="code" href="a05651.html#a430a9ce33a3ec902ad7f8dbb777fe6da">m_pRtCmdClient</a>-&gt;requestCommands();</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <span class="comment">// set cmd client is connected</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <a class="code" href="a05651.html#a93218b38394ae0beaf22c8778532b364">m_bCmdClientIsConnected</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="comment">// Read Info</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            <span class="keywordflow">if</span>(!<a class="code" href="a05651.html#ac802c27d5bb4c1f217587250cf8a8b65">m_pFiffInfo</a>)</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                <a class="code" href="a05651.html#ac770591693d187a8f141bf40eb54d3a1">requestInfo</a>();</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="comment">// Read Connectors</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="a05651.html#a1d2cfbfb991ec390f363d5932eee23f5">m_qMapConnectors</a>.size() == 0)</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <a class="code" href="a05651.html#a9a92565027385225bd2e4d079477e74b">m_iActiveConnectorId</a> = <a class="code" href="a05651.html#a430a9ce33a3ec902ad7f8dbb777fe6da">m_pRtCmdClient</a>-&gt;requestConnectors(<a class="code" href="a05651.html#a1d2cfbfb991ec390f363d5932eee23f5">m_qMapConnectors</a>);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            QMap&lt;qint32, QString&gt;::const_iterator it;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="keywordflow">for</span>(it = <a class="code" href="a05651.html#a1d2cfbfb991ec390f363d5932eee23f5">m_qMapConnectors</a>.begin(); it != <a class="code" href="a05651.html#a1d2cfbfb991ec390f363d5932eee23f5">m_qMapConnectors</a>.end(); ++it)</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                <span class="keywordflow">if</span>(it.value().compare(<span class="stringliteral">&quot;Fiff File Simulator&quot;</span>) == 0 &amp;&amp; <a class="code" href="a05651.html#a9a92565027385225bd2e4d079477e74b">m_iActiveConnectorId</a> != it.key())</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                    <a class="code" href="a05651.html#aacdbba7abddec72d9e475fe1dac65c70">changeConnector</a>(it.key());</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="comment">// Read Buffer Size</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <a class="code" href="a05651.html#a7dfc6c46aaa763a0f713bea1aa458746">m_iBufferSize</a> = <a class="code" href="a05651.html#a430a9ce33a3ec902ad7f8dbb777fe6da">m_pRtCmdClient</a>-&gt;requestBufsize();</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            emit <a class="code" href="a05651.html#a8d5d41fd523c545c9c237eaff439fd4d">cmdConnectionChanged</a>(<a class="code" href="a05651.html#a93218b38394ae0beaf22c8778532b364">m_bCmdClientIsConnected</a>);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        m_qMutex.unlock();</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    }</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;}</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="a05651.html#aede31b89a094c7a6e75a6bfc1294b249">  401</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05651.html#aede31b89a094c7a6e75a6bfc1294b249">FiffSimulator::disconnectCmdClient</a>()</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;{</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    QMutexLocker locker(&amp;m_qMutex);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="a05651.html#a93218b38394ae0beaf22c8778532b364">m_bCmdClientIsConnected</a>)</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    {</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="a05651.html#a430a9ce33a3ec902ad7f8dbb777fe6da">m_pRtCmdClient</a>-&gt;disconnectFromHost();</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="a05651.html#a430a9ce33a3ec902ad7f8dbb777fe6da">m_pRtCmdClient</a>-&gt;ConnectedState != QTcpSocket::UnconnectedState)</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <a class="code" href="a05651.html#a430a9ce33a3ec902ad7f8dbb777fe6da">m_pRtCmdClient</a>-&gt;waitForDisconnected();</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <a class="code" href="a05651.html#a93218b38394ae0beaf22c8778532b364">m_bCmdClientIsConnected</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        emit <a class="code" href="a05651.html#a8d5d41fd523c545c9c237eaff439fd4d">cmdConnectionChanged</a>(<a class="code" href="a05651.html#a93218b38394ae0beaf22c8778532b364">m_bCmdClientIsConnected</a>);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="a05651.html#ac770591693d187a8f141bf40eb54d3a1">  417</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05651.html#ac770591693d187a8f141bf40eb54d3a1">FiffSimulator::requestInfo</a>()</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;{</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">while</span>(!(<a class="code" href="a05651.html#ab556644b77f2485bf4c1ecbd173d0c95">m_pFiffSimulatorProducer</a>-&gt;m_iDataClientId &gt; -1 &amp;&amp; <a class="code" href="a05651.html#a93218b38394ae0beaf22c8778532b364">m_bCmdClientIsConnected</a>)) {</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        qWarning() &lt;&lt; <span class="stringliteral">&quot;FiffSimulatorProducer is not running! Retry...&quot;</span>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="a05651.html#ab556644b77f2485bf4c1ecbd173d0c95">m_pFiffSimulatorProducer</a>-&gt;m_iDataClientId &gt; -1 &amp;&amp; <a class="code" href="a05651.html#a93218b38394ae0beaf22c8778532b364">m_bCmdClientIsConnected</a>) {</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="comment">// read meas info</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        (*m_pRtCmdClient)[<span class="stringliteral">&quot;measinfo&quot;</span>].pValues()[0].setValue(<a class="code" href="a05651.html#ab556644b77f2485bf4c1ecbd173d0c95">m_pFiffSimulatorProducer</a>-&gt;m_iDataClientId);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        (*m_pRtCmdClient)[<span class="stringliteral">&quot;measinfo&quot;</span>].send();</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <a class="code" href="a05651.html#ab556644b77f2485bf4c1ecbd173d0c95">m_pFiffSimulatorProducer</a>-&gt;producerMutex.lock();</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <a class="code" href="a05651.html#ab556644b77f2485bf4c1ecbd173d0c95">m_pFiffSimulatorProducer</a>-&gt;m_bFlagInfoRequest = <span class="keyword">true</span>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <a class="code" href="a05651.html#ab556644b77f2485bf4c1ecbd173d0c95">m_pFiffSimulatorProducer</a>-&gt;producerMutex.unlock();</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        qWarning() &lt;&lt; <span class="stringliteral">&quot;FiffSimulatorProducer is not connected!&quot;</span>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    }</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;}</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="a05651.html#aaf24a0bc60ab317d977fdc177062e6e8">  439</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05651.html#aaf24a0bc60ab317d977fdc177062e6e8">FiffSimulator::showHPIDialog</a>()</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;{</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="a05651.html#ac802c27d5bb4c1f217587250cf8a8b65">m_pFiffInfo</a>) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        QMessageBox msgBox;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        msgBox.setText(<span class="stringliteral">&quot;FiffInfo missing!&quot;</span>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        msgBox.exec();</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="a05651.html#ad43705aa38ad624e54feb036297d6a70">m_pHPIWidget</a>) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <a class="code" href="a05651.html#ad43705aa38ad624e54feb036297d6a70">m_pHPIWidget</a> = QSharedPointer&lt;HpiView&gt;(<span class="keyword">new</span> <a class="code" href="a03783.html">HpiView</a>(<a class="code" href="a05651.html#ac802c27d5bb4c1f217587250cf8a8b65">m_pFiffInfo</a>));</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            connect(<a class="code" href="a05651.html#ad43705aa38ad624e54feb036297d6a70">m_pHPIWidget</a>.data(), &amp;HpiView::continousHPIToggled,</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                    <span class="keyword">this</span>, &amp;<a class="code" href="a05651.html#afd1f7729a2e1fb3d3a9ec62102cbcaee">FiffSimulator::onContinousHPIToggled</a>);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="a05651.html#ad43705aa38ad624e54feb036297d6a70">m_pHPIWidget</a>-&gt;isVisible()) {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <a class="code" href="a05651.html#ad43705aa38ad624e54feb036297d6a70">m_pHPIWidget</a>-&gt;show();</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <a class="code" href="a05651.html#ad43705aa38ad624e54feb036297d6a70">m_pHPIWidget</a>-&gt;raise();</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="a05651.html#a0c6b3df1256a808bc825844c342e4aa6">  463</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05651.html#a0c6b3df1256a808bc825844c342e4aa6">FiffSimulator::updateHPI</a>(<span class="keyword">const</span> MatrixXf&amp; matData)</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;{</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="comment">//Update HPI data</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="a05651.html#ac802c27d5bb4c1f217587250cf8a8b65">m_pFiffInfo</a> &amp;&amp; <a class="code" href="a05651.html#ad43705aa38ad624e54feb036297d6a70">m_pHPIWidget</a>) {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <a class="code" href="a05651.html#ad43705aa38ad624e54feb036297d6a70">m_pHPIWidget</a>-&gt;setData(matData.cast&lt;<span class="keywordtype">double</span>&gt;());</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno"><a class="line" href="a05651.html#a667a6a62567b146f5176615f54dfdc11">  474</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05651.html#a667a6a62567b146f5176615f54dfdc11">FiffSimulator::doContinousHPI</a>(MatrixXf&amp; matData)</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;{</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="comment">//This only works with babyMEG HPI channels 400 ... 407</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="a05651.html#ac802c27d5bb4c1f217587250cf8a8b65">m_pFiffInfo</a> &amp;&amp; <a class="code" href="a05651.html#ad43705aa38ad624e54feb036297d6a70">m_pHPIWidget</a> &amp;&amp; matData.rows() &gt;= 407) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="a05651.html#ad43705aa38ad624e54feb036297d6a70">m_pHPIWidget</a>-&gt;wasLastFitOk()) {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            <span class="comment">// Load device to head transformation matrix from Fiff info</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;            QMatrix3x3 rot;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> ir = 0; ir &lt; 3; ir++) {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                <span class="keywordflow">for</span>(<span class="keywordtype">int</span> ic = 0; ic &lt; 3; ic++) {</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                    rot(ir,ic) = <a class="code" href="a05651.html#ac802c27d5bb4c1f217587250cf8a8b65">m_pFiffInfo</a>-&gt;dev_head_t.trans(ir,ic);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            QQuaternion quatHPI = QQuaternion::fromRotationMatrix(rot);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <span class="comment">// Write rotation quaternion to HPI Ch #1~3</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            matData.row(401) = MatrixXf::Constant(1,matData.cols(), quatHPI.x());</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            matData.row(402) = MatrixXf::Constant(1,matData.cols(), quatHPI.y());</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            matData.row(403) = MatrixXf::Constant(1,matData.cols(), quatHPI.z());</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="comment">// Write translation vector to HPI Ch #4~6</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            matData.row(404) = MatrixXf::Constant(1,matData.cols(), <a class="code" href="a05651.html#ac802c27d5bb4c1f217587250cf8a8b65">m_pFiffInfo</a>-&gt;dev_head_t.trans(0,3));</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            matData.row(405) = MatrixXf::Constant(1,matData.cols(), <a class="code" href="a05651.html#ac802c27d5bb4c1f217587250cf8a8b65">m_pFiffInfo</a>-&gt;dev_head_t.trans(1,3));</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            matData.row(406) = MatrixXf::Constant(1,matData.cols(), <a class="code" href="a05651.html#ac802c27d5bb4c1f217587250cf8a8b65">m_pFiffInfo</a>-&gt;dev_head_t.trans(2,3));</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            <span class="comment">// Write GOF to HPI Ch #7</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            <span class="comment">// Write goodness of fit (GOF)to HPI Ch #7</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            <span class="keywordtype">float</span> dpfitError = 0.0;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            <span class="keywordtype">float</span> GOF = 1 - dpfitError;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            matData.row(407) = MatrixXf::Constant(1,matData.cols(), GOF);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;}</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">//*************************************************************************************************************</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno"><a class="line" href="a05651.html#afd1f7729a2e1fb3d3a9ec62102cbcaee">  512</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="a05651.html#afd1f7729a2e1fb3d3a9ec62102cbcaee">FiffSimulator::onContinousHPIToggled</a>(<span class="keywordtype">bool</span> bDoContinousHPI)</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;{</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="a05651.html#a0e9897eab38050c3baaf77ef895c00d6">m_bDoContinousHPI</a> = bDoContinousHPI;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="ttc" id="a05651_html_a9a92565027385225bd2e4d079477e74b"><div class="ttname"><a href="a05651.html#a9a92565027385225bd2e4d079477e74b">FIFFSIMULATORPLUGIN::FiffSimulator::m_iActiveConnectorId</a></div><div class="ttdeci">qint32 m_iActiveConnectorId</div><div class="ttdef"><b>Definition:</b> <a href="a06358_source.html#l00247">fiffsimulator.h:247</a></div></div>
<div class="ttc" id="a05651_html_a607c813a03e78afbf450049f79fe2ee8"><div class="ttname"><a href="a05651.html#a607c813a03e78afbf450049f79fe2ee8">FIFFSIMULATORPLUGIN::FiffSimulator::m_sFiffSimulatorIP</a></div><div class="ttdeci">QString m_sFiffSimulatorIP</div><div class="ttdef"><b>Definition:</b> <a href="a06358_source.html#l00244">fiffsimulator.h:244</a></div></div>
<div class="ttc" id="a05651_html_ac4ab888112e63be97cc38a908706cf91"><div class="ttname"><a href="a05651.html#ac4ab888112e63be97cc38a908706cf91">FIFFSIMULATORPLUGIN::FiffSimulator::getName</a></div><div class="ttdeci">virtual QString getName() const</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00243">fiffsimulator.cpp:243</a></div></div>
<div class="ttc" id="a05651_html_aede31b89a094c7a6e75a6bfc1294b249"><div class="ttname"><a href="a05651.html#aede31b89a094c7a6e75a6bfc1294b249">FIFFSIMULATORPLUGIN::FiffSimulator::disconnectCmdClient</a></div><div class="ttdeci">void disconnectCmdClient()</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00401">fiffsimulator.cpp:401</a></div></div>
<div class="ttc" id="a02219_html"><div class="ttname"><a href="a02219.html">realtimemultisamplearray.h</a></div><div class="ttdoc">Contains the declaration of the RealTimeMultiSampleArray class. </div></div>
<div class="ttc" id="a05655_html"><div class="ttname"><a href="a05655.html">FIFFSIMULATORPLUGIN::FiffSimulatorProducer</a></div><div class="ttdoc">The FiffSimulatorProducer class provides a Fiff data producer for a given sampling rate...</div><div class="ttdef"><b>Definition:</b> <a href="a02672_source.html#l00088">fiffsimulatorproducer.h:88</a></div></div>
<div class="ttc" id="a05651_html_a8bd7e1e0d9735df71170e9b92c91c349"><div class="ttname"><a href="a05651.html#a8bd7e1e0d9735df71170e9b92c91c349">FIFFSIMULATORPLUGIN::FiffSimulator::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00117">fiffsimulator.cpp:117</a></div></div>
<div class="ttc" id="a05651_html_a0e9897eab38050c3baaf77ef895c00d6"><div class="ttname"><a href="a05651.html#a0e9897eab38050c3baaf77ef895c00d6">FIFFSIMULATORPLUGIN::FiffSimulator::m_bDoContinousHPI</a></div><div class="ttdeci">bool m_bDoContinousHPI</div><div class="ttdef"><b>Definition:</b> <a href="a06358_source.html#l00242">fiffsimulator.h:242</a></div></div>
<div class="ttc" id="a05651_html_a430a9ce33a3ec902ad7f8dbb777fe6da"><div class="ttname"><a href="a05651.html#a430a9ce33a3ec902ad7f8dbb777fe6da">FIFFSIMULATORPLUGIN::FiffSimulator::m_pRtCmdClient</a></div><div class="ttdeci">QSharedPointer&lt; COMMUNICATIONLIB::RtCmdClient &gt; m_pRtCmdClient</div><div class="ttdef"><b>Definition:</b> <a href="a06358_source.html#l00235">fiffsimulator.h:235</a></div></div>
<div class="ttc" id="a01562_html_ad7df02aae3c32f72eb464055f493cae9"><div class="ttname"><a href="a01562.html#ad7df02aae3c32f72eb464055f493cae9">IOBUFFER::RawMatrixBuffer</a></div><div class="ttdeci">UTILSSHARED_EXPORT _float_CircularMatrixBuffer RawMatrixBuffer</div><div class="ttdef"><b>Definition:</b> <a href="a01562_source.html#l00403">circularmatrixbuffer.h:403</a></div></div>
<div class="ttc" id="a05651_html_a9c95f8e2e5de1adb190cc714fbe0f07b"><div class="ttname"><a href="a05651.html#a9c95f8e2e5de1adb190cc714fbe0f07b">FIFFSIMULATORPLUGIN::FiffSimulator::init</a></div><div class="ttdeci">virtual void init()</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00136">fiffsimulator.cpp:136</a></div></div>
<div class="ttc" id="a05651_html_ac802c27d5bb4c1f217587250cf8a8b65"><div class="ttname"><a href="a05651.html#ac802c27d5bb4c1f217587250cf8a8b65">FIFFSIMULATORPLUGIN::FiffSimulator::m_pFiffInfo</a></div><div class="ttdeci">QSharedPointer&lt; FIFFLIB::FiffInfo &gt; m_pFiffInfo</div><div class="ttdef"><b>Definition:</b> <a href="a06358_source.html#l00234">fiffsimulator.h:234</a></div></div>
<div class="ttc" id="a05651_html_a93218b38394ae0beaf22c8778532b364"><div class="ttname"><a href="a05651.html#a93218b38394ae0beaf22c8778532b364">FIFFSIMULATORPLUGIN::FiffSimulator::m_bCmdClientIsConnected</a></div><div class="ttdeci">bool m_bCmdClientIsConnected</div><div class="ttdef"><b>Definition:</b> <a href="a06358_source.html#l00240">fiffsimulator.h:240</a></div></div>
<div class="ttc" id="a05651_html_a9e7ef070b71e39a1036fe66021fd2322"><div class="ttname"><a href="a05651.html#a9e7ef070b71e39a1036fe66021fd2322">FIFFSIMULATORPLUGIN::FiffSimulator::start</a></div><div class="ttdeci">virtual bool start()</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00164">fiffsimulator.cpp:164</a></div></div>
<div class="ttc" id="a05651_html_ad39340aeabdb354dff5b2eb263287ce8"><div class="ttname"><a href="a05651.html#ad39340aeabdb354dff5b2eb263287ce8">FIFFSIMULATORPLUGIN::FiffSimulator::stop</a></div><div class="ttdeci">virtual bool stop()</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00204">fiffsimulator.cpp:204</a></div></div>
<div class="ttc" id="a05651_html_a2a63393752e74067b391ea74b418be3f"><div class="ttname"><a href="a05651.html#a2a63393752e74067b391ea74b418be3f">FIFFSIMULATORPLUGIN::FiffSimulator::~FiffSimulator</a></div><div class="ttdeci">virtual ~FiffSimulator()</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00108">fiffsimulator.cpp:108</a></div></div>
<div class="ttc" id="a05651_html_aaf24a0bc60ab317d977fdc177062e6e8"><div class="ttname"><a href="a05651.html#aaf24a0bc60ab317d977fdc177062e6e8">FIFFSIMULATORPLUGIN::FiffSimulator::showHPIDialog</a></div><div class="ttdeci">void showHPIDialog()</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00439">fiffsimulator.cpp:439</a></div></div>
<div class="ttc" id="a05663_html"><div class="ttname"><a href="a05663.html">FIFFSIMULATORPLUGIN::FiffSimulatorSetupWidget</a></div><div class="ttdoc">The FiffSimulatorSetupWidget class provides the Fiff configuration window. </div><div class="ttdef"><b>Definition:</b> <a href="a02684_source.html#l00085">fiffsimulatorsetupwidget.h:85</a></div></div>
<div class="ttc" id="a05351_html_addfb10f54b9f7aaed5a12ad5665d8b5da86f46a40444d051a5b7ace338f27dedd"><div class="ttname"><a href="a05351.html#addfb10f54b9f7aaed5a12ad5665d8b5da86f46a40444d051a5b7ace338f27dedd">SCSHAREDLIB::IPlugin::_ISensor</a></div><div class="ttdef"><b>Definition:</b> <a href="a02255_source.html#l00102">IPlugin.h:102</a></div></div>
<div class="ttc" id="a03247_html"><div class="ttname"><a href="a03247.html">COMMUNICATIONLIB::RtCmdClient</a></div><div class="ttdoc">Real-time command client. </div><div class="ttdef"><b>Definition:</b> <a href="a00014_source.html#l00084">rtcmdclient.h:84</a></div></div>
<div class="ttc" id="a05651_html_a7dfc6c46aaa763a0f713bea1aa458746"><div class="ttname"><a href="a05651.html#a7dfc6c46aaa763a0f713bea1aa458746">FIFFSIMULATORPLUGIN::FiffSimulator::m_iBufferSize</a></div><div class="ttdeci">qint32 m_iBufferSize</div><div class="ttdef"><b>Definition:</b> <a href="a06358_source.html#l00248">fiffsimulator.h:248</a></div></div>
<div class="ttc" id="a03167_html"><div class="ttname"><a href="a03167.html">UTILSLIB</a></div><div class="ttdef"><b>Definition:</b> <a href="a00317_source.html#l00078">filtersettingsview.h:78</a></div></div>
<div class="ttc" id="a05651_html_ac770591693d187a8f141bf40eb54d3a1"><div class="ttname"><a href="a05651.html#ac770591693d187a8f141bf40eb54d3a1">FIFFSIMULATORPLUGIN::FiffSimulator::requestInfo</a></div><div class="ttdeci">void requestInfo()</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00417">fiffsimulator.cpp:417</a></div></div>
<div class="ttc" id="a05651_html_a46af0eadcd729e666d07989c46e4df9b"><div class="ttname"><a href="a05651.html#a46af0eadcd729e666d07989c46e4df9b">FIFFSIMULATORPLUGIN::FiffSimulator::initConnector</a></div><div class="ttdeci">void initConnector()</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00290">fiffsimulator.cpp:290</a></div></div>
<div class="ttc" id="a05651_html_ab556644b77f2485bf4c1ecbd173d0c95"><div class="ttname"><a href="a05651.html#ab556644b77f2485bf4c1ecbd173d0c95">FIFFSIMULATORPLUGIN::FiffSimulator::m_pFiffSimulatorProducer</a></div><div class="ttdeci">QSharedPointer&lt; FiffSimulatorProducer &gt; m_pFiffSimulatorProducer</div><div class="ttdef"><b>Definition:</b> <a href="a06358_source.html#l00232">fiffsimulator.h:232</a></div></div>
<div class="ttc" id="a03218_html"><div class="ttname"><a href="a03218.html">FIFFSIMULATORPLUGIN</a></div><div class="ttdef"><b>Definition:</b> <a href="a06358_source.html#l00085">fiffsimulator.h:85</a></div></div>
<div class="ttc" id="a05651_html_ad43705aa38ad624e54feb036297d6a70"><div class="ttname"><a href="a05651.html#ad43705aa38ad624e54feb036297d6a70">FIFFSIMULATORPLUGIN::FiffSimulator::m_pHPIWidget</a></div><div class="ttdeci">QSharedPointer&lt; DISP3DLIB::HpiView &gt; m_pHPIWidget</div><div class="ttdef"><b>Definition:</b> <a href="a06358_source.html#l00236">fiffsimulator.h:236</a></div></div>
<div class="ttc" id="a03170_html"><div class="ttname"><a href="a03170.html">DISP3DLIB</a></div><div class="ttdef"><b>Definition:</b> <a href="a00482_source.html#l00076">data3Dtreedelegate.h:76</a></div></div>
<div class="ttc" id="a05651_html_a667a6a62567b146f5176615f54dfdc11"><div class="ttname"><a href="a05651.html#a667a6a62567b146f5176615f54dfdc11">FIFFSIMULATORPLUGIN::FiffSimulator::doContinousHPI</a></div><div class="ttdeci">void doContinousHPI(Eigen::MatrixXf &amp;matData)</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00474">fiffsimulator.cpp:474</a></div></div>
<div class="ttc" id="a02684_html"><div class="ttname"><a href="a02684.html">fiffsimulatorsetupwidget.h</a></div><div class="ttdoc">Contains the declaration of the FiffSimulatorSetupWidget class. </div></div>
<div class="ttc" id="a05651_html_a08e24373082c3e3a05ea3285bb3eae5a"><div class="ttname"><a href="a05651.html#a08e24373082c3e3a05ea3285bb3eae5a">FIFFSIMULATORPLUGIN::FiffSimulator::m_pActionComputeHPI</a></div><div class="ttdeci">QAction * m_pActionComputeHPI</div><div class="ttdef"><b>Definition:</b> <a href="a06358_source.html#l00238">fiffsimulator.h:238</a></div></div>
<div class="ttc" id="a05651_html_a9b2bf14881acfd4e3b59e99643f8ab1d"><div class="ttname"><a href="a05651.html#a9b2bf14881acfd4e3b59e99643f8ab1d">FIFFSIMULATORPLUGIN::FiffSimulator::m_pRawMatrixBuffer_In</a></div><div class="ttdeci">QSharedPointer&lt; IOBUFFER::RawMatrixBuffer &gt; m_pRawMatrixBuffer_In</div><div class="ttdef"><b>Definition:</b> <a href="a06358_source.html#l00233">fiffsimulator.h:233</a></div></div>
<div class="ttc" id="a05651_html_a560ff0ced87d518c244e0ad990ac23ac"><div class="ttname"><a href="a05651.html#a560ff0ced87d518c244e0ad990ac23ac">FIFFSIMULATORPLUGIN::FiffSimulator::clone</a></div><div class="ttdeci">virtual QSharedPointer&lt; IPlugin &gt; clone() const</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00127">fiffsimulator.cpp:127</a></div></div>
<div class="ttc" id="a05651_html_a8d5d41fd523c545c9c237eaff439fd4d"><div class="ttname"><a href="a05651.html#a8d5d41fd523c545c9c237eaff439fd4d">FIFFSIMULATORPLUGIN::FiffSimulator::cmdConnectionChanged</a></div><div class="ttdeci">void cmdConnectionChanged(bool p_bStatus)</div></div>
<div class="ttc" id="a05651_html_afb560dd7302375b7d0e58281c9fee2fc"><div class="ttname"><a href="a05651.html#afb560dd7302375b7d0e58281c9fee2fc">FIFFSIMULATORPLUGIN::FiffSimulator::fiffInfoAvailable</a></div><div class="ttdeci">void fiffInfoAvailable()</div></div>
<div class="ttc" id="a05651_html_a47041cfa4dec55584ced2a41e752cf62"><div class="ttname"><a href="a05651.html#a47041cfa4dec55584ced2a41e752cf62">FIFFSIMULATORPLUGIN::FiffSimulator::run</a></div><div class="ttdeci">virtual void run()</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00261">fiffsimulator.cpp:261</a></div></div>
<div class="ttc" id="a05651_html_aacdbba7abddec72d9e475fe1dac65c70"><div class="ttname"><a href="a05651.html#aacdbba7abddec72d9e475fe1dac65c70">FIFFSIMULATORPLUGIN::FiffSimulator::changeConnector</a></div><div class="ttdeci">void changeConnector(qint32 p_iNewConnectorId)</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00304">fiffsimulator.cpp:304</a></div></div>
<div class="ttc" id="a05351_html_addfb10f54b9f7aaed5a12ad5665d8b5d"><div class="ttname"><a href="a05351.html#addfb10f54b9f7aaed5a12ad5665d8b5d">SCSHAREDLIB::IPlugin::PluginType</a></div><div class="ttdeci">PluginType</div><div class="ttdef"><b>Definition:</b> <a href="a02255_source.html#l00100">IPlugin.h:100</a></div></div>
<div class="ttc" id="a05651_html_a0d3f29a11133f5ab7532ec879652e34e"><div class="ttname"><a href="a05651.html#a0d3f29a11133f5ab7532ec879652e34e">FIFFSIMULATORPLUGIN::FiffSimulator::connectCmdClient</a></div><div class="ttdeci">void connectCmdClient()</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00344">fiffsimulator.cpp:344</a></div></div>
<div class="ttc" id="a03183_html"><div class="ttname"><a href="a03183.html">IOBUFFER</a></div><div class="ttdef"><b>Definition:</b> <a href="a01547_source.html#l00060">buffer.h:60</a></div></div>
<div class="ttc" id="a03783_html"><div class="ttname"><a href="a03783.html">DISP3DLIB::HpiView</a></div><div class="ttdoc">The HpiView class provides a QDialog for the HPI controls. </div><div class="ttdef"><b>Definition:</b> <a href="a00773_source.html#l00110">hpiview.h:110</a></div></div>
<div class="ttc" id="a03158_html"><div class="ttname"><a href="a03158.html">COMMUNICATIONLIB</a></div><div class="ttdef"><b>Definition:</b> <a href="a00008_source.html#l00081">rtclient.h:81</a></div></div>
<div class="ttc" id="a05651_html_abfab6431cc660e8078c2d5879cd1da0c"><div class="ttname"><a href="a05651.html#abfab6431cc660e8078c2d5879cd1da0c">FIFFSIMULATORPLUGIN::FiffSimulator::FiffSimulator</a></div><div class="ttdeci">FiffSimulator()</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00085">fiffsimulator.cpp:85</a></div></div>
<div class="ttc" id="a03205_html"><div class="ttname"><a href="a03205.html">SCSHAREDLIB</a></div><div class="ttdef"><b>Definition:</b> <a href="a02249_source.html#l00060">IAlgorithm.h:60</a></div></div>
<div class="ttc" id="a01583_html"><div class="ttname"><a href="a01583.html">ioutils.h</a></div><div class="ttdoc">IOUtils class declaration. </div></div>
<div class="ttc" id="a05651_html_a5dea52c7ae740fafac9eb31d7ede344c"><div class="ttname"><a href="a05651.html#a5dea52c7ae740fafac9eb31d7ede344c">FIFFSIMULATORPLUGIN::FiffSimulator::setupWidget</a></div><div class="ttdeci">virtual QWidget * setupWidget()</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00251">fiffsimulator.cpp:251</a></div></div>
<div class="ttc" id="a00908_html"><div class="ttname"><a href="a00908.html">fiff_info.h</a></div><div class="ttdoc">FiffInfo class declaration. </div></div>
<div class="ttc" id="a05651_html_afd1f7729a2e1fb3d3a9ec62102cbcaee"><div class="ttname"><a href="a05651.html#afd1f7729a2e1fb3d3a9ec62102cbcaee">FIFFSIMULATORPLUGIN::FiffSimulator::onContinousHPIToggled</a></div><div class="ttdeci">void onContinousHPIToggled(bool bDoContinousHPI)</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00512">fiffsimulator.cpp:512</a></div></div>
<div class="ttc" id="a05651_html_af22b042015094ebd33f554508f90b7dc"><div class="ttname"><a href="a05651.html#af22b042015094ebd33f554508f90b7dc">FIFFSIMULATORPLUGIN::FiffSimulator::getType</a></div><div class="ttdeci">virtual IPlugin::PluginType getType() const</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00235">fiffsimulator.cpp:235</a></div></div>
<div class="ttc" id="a05651_html_a0c6b3df1256a808bc825844c342e4aa6"><div class="ttname"><a href="a05651.html#a0c6b3df1256a808bc825844c342e4aa6">FIFFSIMULATORPLUGIN::FiffSimulator::updateHPI</a></div><div class="ttdeci">void updateHPI(const Eigen::MatrixXf &amp;matData)</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00463">fiffsimulator.cpp:463</a></div></div>
<div class="ttc" id="a05651_html_a15cae5623d7a1ade617e98ee0cf48f1e"><div class="ttname"><a href="a05651.html#a15cae5623d7a1ade617e98ee0cf48f1e">FIFFSIMULATORPLUGIN::FiffSimulator::m_bIsRunning</a></div><div class="ttdeci">bool m_bIsRunning</div><div class="ttdef"><b>Definition:</b> <a href="a06358_source.html#l00241">fiffsimulator.h:241</a></div></div>
<div class="ttc" id="a05651_html_a8ef580f84545f48b613e44ca416ae1e2"><div class="ttname"><a href="a05651.html#a8ef580f84545f48b613e44ca416ae1e2">FIFFSIMULATORPLUGIN::FiffSimulator::unload</a></div><div class="ttdeci">virtual void unload()</div><div class="ttdef"><b>Definition:</b> <a href="a06352_source.html#l00156">fiffsimulator.cpp:156</a></div></div>
<div class="ttc" id="a05651_html_abd0e52d664ffbb708a2d87a88c8c63cd"><div class="ttname"><a href="a05651.html#abd0e52d664ffbb708a2d87a88c8c63cd">FIFFSIMULATORPLUGIN::FiffSimulator::m_pRTMSA_FiffSimulator</a></div><div class="ttdeci">SCSHAREDLIB::PluginOutputData&lt; SCMEASLIB::RealTimeMultiSampleArray &gt;::SPtr m_pRTMSA_FiffSimulator</div><div class="ttdef"><b>Definition:</b> <a href="a06358_source.html#l00230">fiffsimulator.h:230</a></div></div>
<div class="ttc" id="a05391_html"><div class="ttname"><a href="a05391.html">SCSHAREDLIB::PluginOutputData</a></div><div class="ttdoc">PluginOutputConnector with specified Measurement. </div><div class="ttdef"><b>Definition:</b> <a href="a02312_source.html#l00072">pluginoutputdata.h:72</a></div></div>
<div class="ttc" id="a05351_html_acd0c42811d473bfa88b5f280d3da6ca3"><div class="ttname"><a href="a05351.html#acd0c42811d473bfa88b5f280d3da6ca3">SCSHAREDLIB::IPlugin::addPluginAction</a></div><div class="ttdeci">void addPluginAction(QAction *pAction)</div><div class="ttdef"><b>Definition:</b> <a href="a02255_source.html#l00249">IPlugin.h:249</a></div></div>
<div class="ttc" id="a02672_html"><div class="ttname"><a href="a02672.html">fiffsimulatorproducer.h</a></div><div class="ttdoc">Contains the declaration of the FiffSimulatorProducer class. </div></div>
<div class="ttc" id="a00773_html"><div class="ttname"><a href="a00773.html">hpiview.h</a></div><div class="ttdoc">HpiView class declaration. </div></div>
<div class="ttc" id="a05651_html_a1d2cfbfb991ec390f363d5932eee23f5"><div class="ttname"><a href="a05651.html#a1d2cfbfb991ec390f363d5932eee23f5">FIFFSIMULATORPLUGIN::FiffSimulator::m_qMapConnectors</a></div><div class="ttdeci">QMap&lt; qint32, QString &gt; m_qMapConnectors</div><div class="ttdef"><b>Definition:</b> <a href="a06358_source.html#l00250">fiffsimulator.h:250</a></div></div>
<div class="ttc" id="a05351_html_a3d20989cd2175fa71bf77ceb0c99f353"><div class="ttname"><a href="a05351.html#a3d20989cd2175fa71bf77ceb0c99f353">SCSHAREDLIB::IPlugin::m_outputConnectors</a></div><div class="ttdeci">OutputConnectorList m_outputConnectors</div><div class="ttdef"><b>Definition:</b> <a href="a02255_source.html#l00222">IPlugin.h:222</a></div></div>
<div class="ttc" id="a05391_html_aceae87f721c31ca112ce126fcd522685"><div class="ttname"><a href="a05391.html#aceae87f721c31ca112ce126fcd522685">SCSHAREDLIB::PluginOutputData::data</a></div><div class="ttdeci">QSharedPointer&lt; T &gt; &amp; data()</div><div class="ttdef"><b>Definition:</b> <a href="a02312_source.html#l00135">pluginoutputdata.h:135</a></div></div>
<div class="ttc" id="a03204_html"><div class="ttname"><a href="a03204.html">SCMEASLIB</a></div><div class="ttdef"><b>Definition:</b> <a href="a02138_source.html#l00078">realtimeconnectivityestimatewidget.h:78</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 18 2019 19:35:41
</small></address>
</body>
</html>